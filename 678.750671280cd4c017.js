"use strict";(self.webpackChunkNgChartsGallery=self.webpackChunkNgChartsGallery||[]).push([[678],{678:(kr,Ue,ie)=>{ie.r(Ue),ie.d(Ue,{default:()=>yr});var se,X=ie(444),at={n:n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return at.d(t,{a:t}),t},d:(n,t)=>{for(var e in t)at.o(t,e)&&!at.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})},o:(n,t)=>Object.prototype.hasOwnProperty.call(n,t)},oe=at.n(X.default),hs=at.n(X.default.StackItem);let{addEvent:bt,find:ds,fireEvent:ne,isArray:ps,isNumber:V,pick:vt}=oe();!function(n){function t(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function e(){this.brokenAxis?.hasBreaks&&(this.options.ordinal=!1)}function i(){let c=this.brokenAxis;if(c?.hasBreaks){let d=this.tickPositions,r=this.tickPositions.info,a=[];for(let h=0;h<d.length;h++)c.isInAnyBreak(d[h])||a.push(d[h]);this.tickPositions=a,this.tickPositions.info=r}}function s(){this.brokenAxis||(this.brokenAxis=new g(this))}function o(){let{isDirty:c,options:{connectNulls:d},points:r,xAxis:a,yAxis:h}=this;if(c){let m=r.length;for(;m--;){let f=r[m],x=(null!==f.y||!1!==d)&&(a?.brokenAxis?.isInAnyBreak(f.x,!0)||h?.brokenAxis?.isInAnyBreak(f.y,!0));f.visible=!x&&!1!==f.options.visible}}}function l(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,vt(this.pointArrayMap,["y"]))}function p(c,d){let r,a,h,m=this,f=m.points;if(c?.brokenAxis?.hasBreaks){let x=c.brokenAxis;d.forEach(function(b){r=x?.breakArray||[],a=c.isXAxis?c.min:vt(m.options.threshold,c.min);let A=c?.options?.breaks?.filter(function(y){let M=!0;for(let k=0;k<r.length;k++){let v=r[k];if(v.from===y.from&&v.to===y.to){M=!1;break}}return M});f.forEach(function(y){h=vt(y["stack"+b.toUpperCase()],y[b]),r.forEach(function(M){if(V(a)&&V(h)){let k="";a<M.from&&h>M.to||a>M.from&&h<M.from?k="pointBreak":(a<M.from&&h>M.from&&h<M.to||a>M.from&&h>M.to&&h<M.from)&&(k="pointInBreak"),k&&ne(c,k,{point:y,brk:M})}}),A?.forEach(function(M){ne(c,"pointOutsideOfBreak",{point:y,brk:M})})})})}}function u(){let c=this.currentDataGrouping,d=c?.gapSize,r=this.points.slice(),a=this.yAxis,h=this.options.gapSize,m=r.length-1;if(h&&m>0){let f,x;for("value"!==this.options.gapUnit&&(h*=this.basePointRange),d&&d>h&&d>=this.basePointRange&&(h=d);m--;)if(x&&!1!==x.visible||(x=r[m+1]),f=r[m],!1!==x.visible&&!1!==f.visible){if(x.x-f.x>h){let b=(f.x+x.x)/2;r.splice(m+1,0,{isNull:!0,x:b}),a.stacking&&this.options.stacking&&((a.stacking.stacks[this.stackKey][b]=new(hs())(a,a.options.stackLabels,!1,b,this.stack)).total=0)}x=f}}return this.getGraphPath(r)}n.compose=function(c,d){if(!c.keepProps.includes("brokenAxis")){c.keepProps.push("brokenAxis"),bt(c,"init",s),bt(c,"afterInit",t),bt(c,"afterSetTickPositions",i),bt(c,"afterSetOptions",e);let r=d.prototype;r.drawBreaks=p,r.gappedPath=u,bt(d,"afterGeneratePoints",o),bt(d,"afterRender",l)}return c};class g{static isInBreak(d,r){let h=d.repeat||1/0,m=d.from,f=d.to-d.from,x=r>=m?(r-m)%h:h-(m-r)%h;return d.inclusive?x<=f:x<f&&0!==x}static lin2Val(d){let r=this.brokenAxis,a=r?.breakArray;if(!a||!V(d))return d;let m,f,h=d;for(f=0;f<a.length&&!((m=a[f]).from>=h);f++)(m.to<h||g.isInBreak(m,h))&&(h+=m.len);return h}static val2Lin(d){let r=this.brokenAxis,a=r?.breakArray;if(!a||!V(d))return d;let m,f,h=d;for(f=0;f<a.length;f++)if((m=a[f]).to<=d)h-=m.len;else{if(m.from>=d)break;if(g.isInBreak(m,d)){h-=d-m.from;break}}return h}constructor(d){this.hasBreaks=!1,this.axis=d}findBreakAt(d,r){return ds(r,function(a){return a.from<d&&d<a.to})}isInAnyBreak(d,r){let f,x,b,a=this.axis,h=a.options.breaks||[],m=h.length;if(m&&V(d)){for(;m--;)g.isInBreak(h[m],d)&&(f=!0,x||(x=vt(h[m].showPoints,!a.isXAxis)));b=f&&r?f&&!x:f}return b}setBreaks(d,r){let a=this,h=a.axis,m=h.chart.time,f=ps(d)&&!!d.length&&!!Object.keys(d[0]).length;h.isDirty=a.hasBreaks!==f,a.hasBreaks=f,d?.forEach(x=>{x.from=m.parse(x.from)||0,x.to=m.parse(x.to)||0}),d!==h.options.breaks&&(h.options.breaks=h.userOptions.breaks=d),h.forceRedraw=!0,h.series.forEach(function(x){x.isDirty=!0}),f||h.val2lin!==g.val2Lin||(delete h.val2lin,delete h.lin2val),f&&(h.userOptions.ordinal=!1,h.lin2val=g.lin2Val,h.val2lin=g.val2Lin,h.setExtremes=function(x,b,A,y,M){if(a.hasBreaks){let k,v=this.options.breaks||[];for(;k=a.findBreakAt(x,v);)x=k.to;for(;k=a.findBreakAt(b,v);)b=k.from;b<x&&(b=x)}h.constructor.prototype.setExtremes.call(this,x,b,A,y,M)},h.setAxisTranslation=function(){if(h.constructor.prototype.setAxisTranslation.call(this),a.unitLength=void 0,a.hasBreaks){let k,v,T,S,x=h.options.breaks||[],b=[],A=[],y=vt(h.pointRangePadding,0),M=0,O=h.userMin||h.min,C=h.userMax||h.max;x.forEach(function(w){v=w.repeat||1/0,V(O)&&V(C)&&(g.isInBreak(w,O)&&(O+=w.to%v-O%v),g.isInBreak(w,C)&&(C-=C%v-w.from%v))}),x.forEach(function(w){if(T=w.from,v=w.repeat||1/0,V(O)&&V(C)){for(;T-v>O;)T-=v;for(;T<O;)T+=v;for(S=T;S<C;S+=v)b.push({value:S,move:"in"}),b.push({value:S+w.to-w.from,move:"out",size:w.breakSize})}}),b.sort(function(w,E){return w.value===E.value?("in"!==w.move)-("in"!==E.move):w.value-E.value}),k=0,T=O,b.forEach(function(w){1===(k+="in"===w.move?1:-1)&&"in"===w.move&&(T=w.value),0===k&&V(T)&&(A.push({from:T,to:w.value,len:w.value-T-(w.size||0)}),M+=w.value-T-(w.size||0))}),a.breakArray=A,V(O)&&V(C)&&V(h.min)&&(a.unitLength=C-O-M+y,ne(h,"afterBreaks"),h.staticScale?h.transA=h.staticScale:a.unitLength&&(h.transA*=(C-h.min+y)/a.unitLength),y&&(h.minPixelPadding=h.transA*(h.minPointOffset||0)),h.min=O,h.max=C)}}),vt(r,!0)&&h.chart.redraw()}}n.Additions=g}(se||(se={}));let He,cs=se,Dt=oe();Dt.BrokenAxis=Dt.BrokenAxis||cs,Dt.BrokenAxis.compose(Dt.Axis,Dt.Series),oe();var Ve,re,ae,it={n:n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return it.d(t,{a:t}),t},d:(n,t)=>{for(var e in t)it.o(t,e)&&!it.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})},o:(n,t)=>Object.prototype.hasOwnProperty.call(n,t)},K=it.n(X.default);let U={},{arrayMax:gs,arrayMin:ms,correctFloat:fs,extend:xs,isNumber:$}=K();function je(n){let t=n.length,e=Ze(n);return $(e)&&t&&(e=fs(e/t)),e}function Ze(n){let e,t=n.length;if(!t&&n.hasNulls)e=null;else if(t)for(e=0;t--;)e+=n[t];return e}let qe={average:je,averages:function(){let n=[];return[].forEach.call(arguments,function(t){n.push(je(t))}),void 0===n[0]?void 0:n},close:function(n){return n.length?n[n.length-1]:n.hasNulls?null:void 0},high:function(n){return n.length?gs(n):n.hasNulls?null:void 0},hlc:function(n,t,e){if(n=U.high(n),t=U.low(t),e=U.close(e),$(n)||$(t)||$(e))return[n,t,e]},low:function(n){return n.length?ms(n):n.hasNulls?null:void 0},ohlc:function(n,t,e,i){if(n=U.open(n),t=U.high(t),e=U.low(e),i=U.close(i),$(n)||$(t)||$(e)||$(i))return[n,t,e,i]},open:function(n){return n.length?n[0]:n.hasNulls?null:void 0},range:function(n,t){return n=U.low(n),t=U.high(t),$(n)||$(t)?[n,t]:null===n&&null===t?null:void 0},sum:Ze};xs(U,qe);let yt={common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%[AebHMSL]","%[AebHMSL]","-%[HMSL]"],second:["%[AebHMS]","%[AebHMS]","-%[HMS]"],minute:["%[AebHM]","%[AebHM]","-%[HM]"],hour:["%[AebHM]","%[AebHM]","-%[HM]"],day:["%[AebY]","%[Aeb]","-%[AebY]"],week:["%v %[AebY]","%[Aeb]","-%[AebY]"],month:["%[BY]","%[B]","-%[BY]"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]},{addEvent:Ke,extend:bs,merge:vs,pick:$e}=K();function Je(n){let t=this,e=t.series;e.forEach(function(i){i.groupPixelWidth=void 0}),e.forEach(function(i){i.groupPixelWidth=t.getGroupPixelWidth&&t.getGroupPixelWidth(),i.groupPixelWidth&&(i.hasProcessed=!0),i.applyGrouping(!!n.hasExtremesChanged)})}function ys(){let s,o,n=this.series,t=n.length,e=0,i=!1;for(;t--;)(o=n[t].options.dataGrouping)&&(e=Math.max(e,$e(o.groupPixelWidth,yt.common.groupPixelWidth)),s=(n[t].dataTable.modified||n[t].dataTable).rowCount,(n[t].groupPixelWidth||s>this.chart.plotSizeX/e||s&&o.forced)&&(i=!0));return i?e:0}function ks(){this.series.forEach(function(n){n.hasProcessed=!1})}function Ms(n,t){let e;if(t=$e(t,!0),n||(n={forced:!1,units:null}),this instanceof He)for(e=this.series.length;e--;)this.series[e].update({dataGrouping:n},!1);else this.chart.options.series.forEach(function(i){i.dataGrouping="boolean"==typeof n?n:vs(n,i.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),t&&this.chart.redraw()}(Ve=re||(re={})).setLength=function(n,t,e){return Array.isArray(n)?(n.length=t,n):n[e?"subarray":"slice"](0,t)},Ve.splice=function(n,t,e,i,s=[]){if(Array.isArray(n))return Array.isArray(s)||(s=Array.from(s)),{removed:n.splice(t,e,...s),array:n};let o=Object.getPrototypeOf(n).constructor,l=n[i?"subarray":"slice"](t,t+e),p=new o(n.length-e+s.length);return p.set(n.subarray(0,t),0),p.set(s,t),p.set(n.subarray(t+e),t+s.length),{removed:l,array:p}};let{setLength:ws,splice:Qe}=re,{fireEvent:le,objectEach:Rt,uniqueKey:_t}=K(),Ss=class{constructor(n={}){this.autoId=!n.id,this.columns={},this.id=n.id||_t(),this.modified=this,this.rowCount=0,this.versionTag=_t();let t=0;Rt(n.columns||{},(e,i)=>{this.columns[i]=e.slice(),t=Math.max(t,e.length)}),this.applyRowCount(t)}applyRowCount(n){this.rowCount=n,Rt(this.columns,(t,e)=>{t.length!==n&&(this.columns[e]=ws(t,n))})}deleteRows(n,t=1){if(t>0&&n<this.rowCount){let e=0;Rt(this.columns,(i,s)=>{this.columns[s]=Qe(i,n,t).array,e=i.length}),this.rowCount=e}le(this,"afterDeleteRows",{rowIndex:n,rowCount:t}),this.versionTag=_t()}getColumn(n,t){return this.columns[n]}getColumns(n,t){return(n||Object.keys(this.columns)).reduce((e,i)=>(e[i]=this.columns[i],e),{})}getRow(n,t){return(t||Object.keys(this.columns)).map(e=>this.columns[e]?.[n])}setColumn(n,t=[],e=0,i){this.setColumns({[n]:t},e,i)}setColumns(n,t,e){let i=this.rowCount;Rt(n,(s,o)=>{this.columns[o]=s.slice(),i=s.length}),this.applyRowCount(i),e?.silent||(le(this,"afterSetColumns"),this.versionTag=_t())}setRow(n,t=this.rowCount,e,i){let{columns:s}=this,o=e?this.rowCount+1:t+1;Rt(n,(l,p)=>{let u=s[p]||!1!==i?.addColumns&&Array(o);u&&(e?u=Qe(u,t,0,!0,[l]).array:u[t]=l,s[p]=u)}),o>this.rowCount&&this.applyRowCount(o),i?.silent||(le(this,"afterSetRows"),this.versionTag=_t())}},{addEvent:Os,getMagnitude:Cs,normalizeTickInterval:Ts,timeUnits:Ft}=K();!function(n){function t(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function e(){"datetime"===this.type?this.dateTime||(this.dateTime=new i(this)):this.dateTime=void 0}n.compose=function(s){return s.keepProps.includes("dateTime")||(s.keepProps.push("dateTime"),s.prototype.getTimeTicks=t,Os(s,"afterSetType",e)),s};class i{constructor(o){this.axis=o}normalizeTimeTickInterval(o,l){let d,p=l||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],u=p[p.length-1],g=Ft[u[0]],c=u[1];for(d=0;d<p.length&&(g=Ft[(u=p[d])[0]],c=u[1],!(p[d+1]&&o<=(g*c[c.length-1]+Ft[p[d+1][0]])/2));d++);return g===Ft.year&&o<5*g&&(c=[1,2,5]),{unitRange:g,count:Ts(o/g,c,"year"===u[0]?Math.max(Cs(o/g),1):1),unitName:u[0]}}getXDateFormat(o,l){let{axis:p}=this,u=p.chart.time;return p.closestPointRange?u.getDateFormat(p.closestPointRange,o,p.options.startOfWeek,l)||u.resolveDTLFormat(l.year).main:u.resolveDTLFormat(l.day).main}}n.Additions=i}(ae||(ae={}));let Es=ae,Bs=X.default.SeriesRegistry,{series:{prototype:ti}}=it.n(Bs)(),{addEvent:he,defined:zt,error:ei,extend:Ps,isNumber:q,merge:de,pick:Ds,splat:Rs}=K(),_s=ti.generatePoints;function zs(n){var t,i;let s,o,d,r,l=this.chart,p=this.options.dataGrouping,u=!1!==this.allowDG&&p&&Ds(p.enabled,l.options.isStock),g=this.reserveSpace(),c=this.currentDataGrouping,a=!1;u&&!this.requireSorting&&(this.requireSorting=a=!0);let h=!(!(t=this).isCartesian||t.isDirty||t.xAxis.isDirty||t.yAxis.isDirty||n)||!u;if(a&&(this.requireSorting=!1),h)return;this.destroyGroupedData();let m=p.groupAll?this.dataTable:this.dataTable.modified||this.dataTable,f=this.getColumn("x",!p.groupAll),x=l.plotSizeX,b=this.xAxis,A=b.getExtremes(),y=b.options.ordinal,M=this.groupPixelWidth;if(M&&f&&m.rowCount&&x&&q(A.min)){o=!0,this.isDirty=!0,this.points=null;let k=A.min,v=A.max,O=y&&b.ordinal&&b.ordinal.getGroupIntervalFactor(k,v,this)||1,T=b.getTimeTicks(Es.Additions.prototype.normalizeTimeTickInterval(M*(v-k)/x*O,p.units||yt.units),Math.min(k,f[0]),Math.max(v,f[f.length-1]),b.options.startOfWeek,f,this.closestPointRange),S=ti.groupData.apply(this,[m,T,p.approximation]),w=S.modified,E=w.getColumn("x",!0),P=0;for(p?.smoothed&&w.rowCount&&(p.firstAnchor="firstPoint",p.anchor="middle",p.lastAnchor="lastPoint",ei(32,!1,l,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),s=1;s<T.length;s++)T.info.segmentStarts&&-1!==T.info.segmentStarts.indexOf(s)||(P=Math.max(T[s]-T[s-1],P));(d=T.info).gapSize=P,this.closestPointRange=T.info.totalRange,this.groupMap=S.groupMap,this.currentDataGrouping=d,function(D,R,Y){let G=D.options.dataGrouping,z=D.currentDataGrouping&&D.currentDataGrouping.gapSize,I=D.getColumn("x");if(!(G&&I.length&&z&&D.groupMap))return;let W=R.length-1,dt=G.anchor,Bt=G.firstAnchor,H=G.lastAnchor,Pt=R.length-1,ee=0;if(Bt&&I[0]>=R[0]){let pt;ee++;let ns=D.groupMap[0].start,rs=D.groupMap[0].length;q(ns)&&q(rs)&&(pt=ns+(rs-1)),R[0]={start:R[0],middle:R[0]+.5*z,end:R[0]+z,firstPoint:I[0],lastPoint:pt&&I[pt]}[Bt]}if(W>0&&H&&z&&R[W]>=Y-z){Pt--;let pt=D.groupMap[D.groupMap.length-1].start;R[W]={start:R[W],middle:R[W]+.5*z,end:R[W]+z,firstPoint:pt&&I[pt],lastPoint:I[I.length-1]}[H]}if(dt&&"start"!==dt){let pt=z*{middle:.5,end:1}[dt];for(;Pt>=ee;)R[Pt]+=pt,Pt--}}(this,E||[],v),g&&E&&(zt((i=E)[0])&&q(b.min)&&q(b.dataMin)&&i[0]<b.min&&((!zt(b.options.min)&&b.min<=b.dataMin||b.min===b.dataMin)&&(b.min=Math.min(i[0],b.min)),b.dataMin=Math.min(i[0],b.dataMin)),zt(i[i.length-1])&&q(b.max)&&q(b.dataMax)&&i[i.length-1]>b.max&&((!zt(b.options.max)&&q(b.dataMax)&&b.max>=b.dataMax||b.max===b.dataMax)&&(b.max=Math.max(i[i.length-1],b.max)),b.dataMax=Math.max(i[i.length-1],b.dataMax))),p.groupAll&&(this.allGroupedTable=w,E=(w=(r=this.cropData(w,b.min||0,b.max||0)).modified).getColumn("x"),this.cropStart=r.start),this.dataTable.modified=w}else this.groupMap=void 0,this.currentDataGrouping=void 0;this.hasGroupedData=o,this.preventGraphAnimation=(c&&c.totalRange)!==(d&&d.totalRange)}function ii(){this.groupedData&&(this.groupedData.forEach(function(n,t){n&&(this.groupedData[t]=n.destroy?n.destroy():null)},this),this.groupedData.length=0,delete this.allGroupedTable)}function Gs(){_s.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function Is(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")||this.options.cumulative?"sum":"average"}function si(n,t,e){let A,y,M,i=n.getColumn("x",!0)||[],s=n.getColumn("y",!0),o=this,l=o.data,p=o.options&&o.options.data,u=[],g=new Ss,c=[],d=n.rowCount,r=!!s,a=[],h=o.pointArrayMap,m=h&&h.length,f=["x"].concat(h||["y"]),x=(h||["y"]).map(()=>[]),b=this.options.dataGrouping&&this.options.dataGrouping.groupAll,k=0,v=0,O="function"==typeof e?e:e&&U[e]?U[e]:U[o.getDGApproximation&&o.getDGApproximation()||"average"];if(m){let S=h.length;for(;S--;)a.push([])}else a.push([]);let C=m||1;for(let S=0;S<=d;S++)if(!(i[S]<t[0])){for(;void 0!==t[k+1]&&i[S]>=t[k+1]||S===d;){if(A=t[k],o.dataGroupInfo={start:b?v:o.cropStart+v,length:a[0].length,groupStart:A},M=O.apply(o,a),o.pointClass&&!zt(o.dataGroupInfo.options)&&(o.dataGroupInfo.options=de(o.pointClass.prototype.optionsToObject.call({series:o},o.options.data[o.cropStart+v])),f.forEach(function(w){delete o.dataGroupInfo.options[w]})),void 0!==M){u.push(A);let w=Rs(M);for(let E=0;E<w.length;E++)x[E].push(w[E]);c.push(o.dataGroupInfo)}v=S;for(let w=0;w<C;w++)a[w].length=0,a[w].hasNulls=!1;if(k+=1,S===d)break}if(S===d)break;if(h){let w,E=b?S:o.cropStart+S,P=l&&l[E]||o.pointClass.prototype.applyOptions.apply({series:o},[p[E]]);for(let D=0;D<m;D++)q(w=P[h[D]])?a[D].push(w):null===w&&(a[D].hasNulls=!0)}else q(y=r?s[S]:null)?a[0].push(y):null===y&&(a[0].hasNulls=!0)}let T={x:u};return(h||["y"]).forEach((S,w)=>{T[S]=x[w]}),g.setColumns(T),{groupMap:c,modified:g}}function Ls(n){let t=n.options,e=this.type,i=this.chart.options.plotOptions,s=this.useCommonDataGrouping&&yt.common,o=yt.seriesSpecific,l=K().defaultOptions.plotOptions[e].dataGrouping;if(i&&(o[e]||s)){let p=this.chart.rangeSelector;l||(l=de(yt.common,o[e])),t.dataGrouping=de(s,l,i.series&&i.series.dataGrouping,i[e].dataGrouping,this.userOptions.dataGrouping,!t.isInternal&&p&&q(p.selected)&&p.buttonOptions[p.selected].dataGrouping)}}let Xs=X.default.Templating,{format:Ys}=it.n(Xs)(),{composed:Ns}=K(),{addEvent:Fs,extend:Us,isNumber:Hs,pick:Vs,pushUnique:js}=K();let st=K();var t,e;let pe;st.dataGrouping=st.dataGrouping||{},st.dataGrouping.approximationDefaults=st.dataGrouping.approximationDefaults||qe,st.dataGrouping.approximations=st.dataGrouping.approximations||U,t=st.Series,e=st.Tooltip,function(n){He=n;let t=n.prototype;t.applyGrouping||(Ke(n,"afterSetScale",ks),Ke(n,"postProcessData",Je),bs(t,{applyGrouping:Je,getGroupPixelWidth:ys,setDataGrouping:Ms}))}(st.Axis),function(n){let t=n.prototype;t.applyGrouping||(he(n.prototype.pointClass,"update",function(){if(this.dataGroup)return ei(24,!1,this.series.chart),!1}),he(n,"afterSetOptions",Ls),he(n,"destroy",ii),Ps(t,{applyGrouping:zs,destroyGroupedData:ii,generatePoints:Gs,getDGApproximation:Is,groupData:si}))}(t),e&&js(Ns,"DataGrouping")&&Fs(e,"headerFormatter",function Zs(n){let c,d,r,a,h,t=this.chart,e=t.time,i=n.point,s=i.series,l=s.tooltipOptions,p=s.options.dataGrouping,u=s.xAxis,g=l.xDateFormat||"",m=l[n.isFooter?"footerFormat":"headerFormat"];if(u&&"datetime"===u.options.type&&p&&Hs(i.key)){d=s.currentDataGrouping,r=p.dateTimeLabelFormats||yt.common.dateTimeLabelFormats,d?(a=r[d.unitName],1===d.count?g=a[0]:(g=a[1],c=a[2])):!g&&r&&u.dateTime&&(g=u.dateTime.getXDateFormat(i.x,l.dateTimeLabelFormats));let f=Vs(s.groupMap?.[i.index].groupStart,i.key),x=f+(d?.totalRange||0)-1;h=e.dateFormat(g,f),c&&(h+=e.dateFormat(c,x)),s.chart.styledMode&&(m=this.styledModeFormat(m)),n.text=Ys(m,{point:Us(i,{key:h}),series:s},t),n.preventDefault()}}),K();var ct={n:n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return ct.d(t,{a:t}),t},d:(n,t)=>{for(var e in t)ct.o(t,e)&&!ct.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})},o:(n,t)=>Object.prototype.hasOwnProperty.call(n,t)},Ut=ct.n(X.default);let{defined:Ks,isNumber:oi,pick:$s}=Ut(),ni={backgroundColor:"string",borderColor:"string",borderRadius:"string",color:"string",fill:"string",fontSize:"string",labels:"string",name:"string",stroke:"string",title:"string"},{addEvent:ri,isObject:Js,pick:Qs,defined:to,merge:eo}=Ut(),{getAssignedAxis:ai}={annotationsFieldsTypes:ni,getAssignedAxis:function(n){return n.filter(t=>{let e=t.axis.getExtremes(),i=e.min,s=e.max,o=$s(t.axis.minPointOffset,0);return oi(i)&&oi(s)&&t.value>=i-o&&t.value<=s+o&&!t.axis.options.isInternal})[0]},getFieldType:function(n,t){let e=ni[n],i=typeof t;return Ks(e)&&(i=e),{string:"text",number:"number",boolean:"checkbox"}[i]}},li=[],io={enabled:!0,sensitivity:1.1};function no(){let n=(n=>(Js(n)||(n={enabled:n??!0}),eo(io,n)))(this.zooming.mouseWheel);n.enabled&&ri(this.container,"wheel",t=>{t=this.pointer?.normalize(t)||t;let{pointer:e}=this,i=e&&!e.inClass(t.target,"highcharts-no-mousewheel");if(this.isInsidePlot(t.chartX-this.plotLeft,t.chartY-this.plotTop)&&i){let s=n.sensitivity||1.1,o=t.detail||(t.deltaY||0)/120,l=ai(e.getCoordinates(t).xAxis),p=ai(e.getCoordinates(t).yAxis);(function(n,t,e,i,s,o,l){let p=Qs(l.type,n.zooming.type,""),u=[];"x"===p?u=e:"y"===p?u=i:"xy"===p&&(u=n.axes);let g=n.transform({axes:u,to:{x:s-5,y:o-5,width:10,height:10},from:{x:s-5*t,y:o-5*t,width:10*t,height:10*t},trigger:"mousewheel"});return g&&(to(pe)&&clearTimeout(pe),pe=setTimeout(()=>{n.pointer?.drop()},400)),g})(this,Math.pow(s,o),l?[l.axis]:this.xAxis,p?[p.axis]:this.yAxis,t.chartX,t.chartY,n)&&t.preventDefault?.()}})}let ce,ue,Ht=Ut();Ht.MouseWheelZoom=Ht.MouseWheelZoom||{compose:function(n){-1===li.indexOf(n)&&(li.push(n),ri(n,"afterGetContainer",no))}},Ht.MouseWheelZoom.compose(Ht.Chart),Ut();var hi,ge,me,fe,xe,be,ve,L={n:n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return L.d(t,{a:t}),t},d:(n,t)=>{for(var e in t)L.o(t,e)&&!L.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})},o:(n,t)=>Object.prototype.hasOwnProperty.call(n,t)},B=L.n(X.default),ye=L.n(X.default.Axis),ho=L.n(X.default.Point),co=L.n(X.default.Series);let{tooltipFormatter:uo}=ho().prototype,{addEvent:ke,arrayMax:go,arrayMin:mo,correctFloat:fo,defined:di,isArray:xo,isNumber:bo,isString:vo,pick:Gt}=B();!function(n){function t(d,r,a){!this.isXAxis&&(this.series.forEach(function(h){"compare"===d&&"boolean"!=typeof r?h.setCompare(r,!1):"cumulative"!==d||vo(r)||h.setCumulative(r,!1)}),Gt(a,!0)&&this.chart.redraw())}function e(d){let r=this,{numberFormatter:a}=r.series.chart,h=function(m){d=d.replace("{point."+m+"}",(r[m]>0&&"change"===m?"+":"")+a(r[m],Gt(r.series.tooltipOptions.changeDecimals,2)))};return di(r.change)&&h("change"),di(r.cumulativeSum)&&h("cumulativeSum"),uo.apply(this,[d])}function i(){let d,r=this.options.compare;("percent"===r||"value"===r||this.options.cumulative)&&(d=new c(this),"percent"===r||"value"===r?d.initCompare(r):d.initCumulative()),this.dataModify=d}function s(d){let r=d.dataExtremes,a=r.activeYData;if(this.dataModify&&r){let h;this.options.compare?h=[this.dataModify.modifyValue(r.dataMin),this.dataModify.modifyValue(r.dataMax)]:this.options.cumulative&&xo(a)&&a.length>=2&&(h=c.getCumulativeExtremes(a)),h&&(r.dataMin=mo(h),r.dataMax=go(h))}}function o(d,r){this.options.compare=this.userOptions.compare=d,this.update({},Gt(r,!0)),!this.dataModify||"value"!==d&&"percent"!==d?this.points.forEach(a=>{delete a.change}):this.dataModify.initCompare(d)}function l(){let d=this.getColumn(this.pointArrayMap&&(this.options.pointValKey||this.pointValKey)||"y",!0);if(this.xAxis&&d.length&&this.dataModify){let r=this.getColumn("x",!0),a=this.dataTable.rowCount,h=+(!0!==this.options.compareStart);for(let m=0;m<a-h;m++){let f=d[m];if(bo(f)&&0!==f&&r[m+h]>=(this.xAxis.min||0)){this.dataModify.compareValue=f;break}}}}function p(d,r){this.setModifier("compare",d,r)}function u(d,r){d=Gt(d,!1),this.options.cumulative=this.userOptions.cumulative=d,this.update({},Gt(r,!0)),this.dataModify?this.dataModify.initCumulative():this.points.forEach(a=>{delete a.cumulativeSum})}function g(d,r){this.setModifier("cumulative",d,r)}n.compose=function(d,r,a){let h=r.prototype,m=a.prototype,f=d.prototype;return f.setCompare||(f.setCompare=o,f.setCumulative=u,ke(d,"afterInit",i),ke(d,"afterGetExtremes",s),ke(d,"afterProcessData",l)),h.setCompare||(h.setCompare=p,h.setModifier=t,h.setCumulative=g,m.tooltipFormatter=e),d};class c{constructor(r){this.series=r}modifyValue(){return 0}static getCumulativeExtremes(r){let a=1/0,h=-1/0;return r.reduce((m,f)=>{let x=m+f;return a=Math.min(a,x,m),h=Math.max(h,x,m),x}),[a,h]}initCompare(r){this.modifyValue=function(a,h){null===a&&(a=0);let m=this.compareValue;if(void 0!==a&&void 0!==m){if("value"===r?a-=m:a=a/m*100-100*(100!==this.series.options.compareBase),void 0!==h){let f=this.series.points[h];f&&(f.change=a)}return a}return 0}}initCumulative(){this.modifyValue=function(r,a){if(null===r&&(r=0),void 0!==r&&void 0!==a){let h=a>0?this.series.points[a-1]:null;h&&h.cumulativeSum&&(r=fo(h.cumulativeSum+r));let m=this.series.points[a];return m&&(m.cumulativeSum=!m.series.options.cumulativeStart||m.x<=this.series.xAxis.max&&m.x>=this.series.xAxis.min?r:void 0),r}return 0}}}n.Additions=c}(ge||(ge={}));let yo=ge,{isTouchDevice:pi}=B(),{addEvent:kt,merge:ci,pick:Me}=B(),ko=[];function Mo(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function Ao(){let n,t,e,i=this.legend,s=this.navigator;if(s){n=i&&i.options,t=s.xAxis,e=s.yAxis;let{scrollbarHeight:o,scrollButtonSize:l}=s;this.inverted?(s.left=s.opposite?this.chartWidth-o-s.height:this.spacing[3]+o,s.top=this.plotTop+l):(s.left=Me(t.left,this.plotLeft+l),s.top=s.navigatorOptions.top||this.chartHeight-s.height-o-(this.scrollbar?.options.margin||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(n&&"bottom"===n.verticalAlign&&"proximate"!==n.layout&&n.enabled&&!n.floating?i.legendHeight+Me(n.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),t&&e&&(this.inverted?t.options.left=e.options.left=s.left:t.options.top=e.options.top=s.top,t.setAxisSize(),e.setAxisSize())}}function wo(n){!this.navigator&&!this.scroller&&(this.options.navigator.enabled||this.options.scrollbar.enabled)&&(this.scroller=this.navigator=new ce(this),Me(n.redraw,!0)&&this.redraw(n.animation))}function So(){let n=this.options;(n.navigator.enabled||n.scrollbar.enabled)&&(this.scroller=this.navigator=new ce(this))}function Oo(){let n=this.options,t=n.navigator,e=n.rangeSelector;if((t&&t.enabled||e&&e.enabled)&&(!pi&&"x"===this.zooming.type||pi&&"x"===this.zooming.pinchType))return!1}function Co(n){let t=n.navigator;if(t&&n.xAxis[0]){let e=n.xAxis[0].getExtremes();t.render(e.min,e.max)}}function To(n){let t=n.options.navigator||{},e=n.options.scrollbar||{};!this.navigator&&!this.scroller&&(t.enabled||e.enabled)&&(ci(!0,this.options.navigator,t),ci(!0,this.options.scrollbar,e),delete n.options.navigator,delete n.options.scrollbar)}let{isTouchDevice:Bo}=B(),{addEvent:ui,correctFloat:gi,defined:Ae,isNumber:mi,pick:fi}=B();function Po(){this.navigatorAxis||(this.navigatorAxis=new we(this))}function Do(n){let t,e=this.chart,i=e.options,s=i.navigator,o=this.navigatorAxis,l=e.zooming.pinchType,p=i.rangeSelector,u=e.zooming.type;if(this.isXAxis&&(s?.enabled||p?.enabled))if("y"===u&&"zoom"===n.trigger)t=!1;else if(("zoom"===n.trigger&&"xy"===u||Bo&&"xy"===l)&&this.options.range){let g=o.previousZoom;Ae(n.min)?o.previousZoom=[this.min,this.max]:g&&(n.min=g[0],n.max=g[1],o.previousZoom=void 0)}void 0!==t&&n.preventDefault()}class we{static compose(t){t.keepProps.includes("navigatorAxis")||(t.keepProps.push("navigatorAxis"),ui(t,"init",Po),ui(t,"setExtremes",Do))}constructor(t){this.axis=t}destroy(){this.axis=void 0}toFixedRange(t,e,i,s){let o=this.axis,l=(o.pointRange||0)/2,p=fi(i,o.translate(t,!0,!o.horiz)),u=fi(s,o.translate(e,!0,!o.horiz));return Ae(i)||(p=gi(p+l)),Ae(s)||(u=gi(u-l)),mi(p)&&mi(u)||(p=u=void 0),{min:p,max:u}}}var _o=L.n(X.default.Color),Z=L.n(X.default.SeriesRegistry);let{parse:Go}=_o(),{seriesTypes:Io}=Z(),Se={height:40,margin:22,maskInside:!0,handles:{width:7,borderRadius:0,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:Go("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:void 0===Io.areaspline?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",id:"navigator-x-axis",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,id:"navigator-y-axis",maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:void 0},tickLength:0,tickWidth:0}},{relativeLength:Lo}=(B(),B()),Wo={"navigator-handle":function(n,t,e,i,s={}){var o,l,p,u,g;let c=s.width?s.width/2:e,d=Lo(s.borderRadius||0,Math.min(2*c,i));return[["M",-1.5,(i=s.height||i)/2-3.5],["L",-1.5,i/2+4.5],["M",.5,i/2-3.5],["L",.5,i/2+4.5],...(o=-c-1,l=.5,p=2*c+1,u=i,g={r:d},g?.r?function(r,a,h,m,f){let x=f?.r||0;return[["M",r+x,a],["L",r+h-x,a],["A",x,x,0,0,1,r+h,a+x],["L",r+h,a+m-x],["A",x,x,0,0,1,r+h-x,a+m],["L",r+x,a+m],["A",x,x,0,0,1,r,a+m-x],["L",r,a+x],["A",x,x,0,0,1,r+x,a],["Z"]]}(o,.5,p,u,g):[["M",o,l],["L",o+p,l],["L",o+p,l+u],["L",o,l+u],["Z"]])]}};var xi=L.n(X.default.RendererRegistry);let{defined:bi}=B(),vi={setFixedRange:function(n){let t=this.xAxis[0];this.fixedRange=bi(t.dataMax)&&bi(t.dataMin)&&n?Math.min(n,t.dataMax-t.dataMin):n}},{defaultOptions:Yo}=B(),{composed:No}=B(),{getRendererType:Fo}=xi(),{setFixedRange:Uo}=vi,{addEvent:Ho,extend:yi,pushUnique:Vo}=B();function jo(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}let{composed:qo}=B(),{addEvent:Vt,defined:Mt,pick:jt,pushUnique:Ko}=B();!function(n){let t;function e(l){let p=jt(l.options?.min,l.min),u=jt(l.options?.max,l.max);return{axisMin:p,axisMax:u,scrollMin:Mt(l.dataMin)?Math.min(p,l.min,l.dataMin,jt(l.threshold,1/0)):p,scrollMax:Mt(l.dataMax)?Math.max(u,l.max,l.dataMax,jt(l.threshold,-1/0)):u}}function i(){let l=this.scrollbar,u=this.horiz?2:l&&!l.options.opposite?3:1;l&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[u]+=l.size+(l.options.margin||0))}function s(){let l=this;l.options?.scrollbar?.enabled&&(l.options.scrollbar.vertical=!l.horiz,l.options.startOnTick=l.options.endOnTick=!1,l.scrollbar=new t(l.chart.renderer,l.options.scrollbar,l.chart),Vt(l.scrollbar,"changed",function(p){let u,g,{axisMin:c,axisMax:d,scrollMin:r,scrollMax:a}=e(l),h=a-r;Mt(c)&&Mt(d)&&(l.horiz&&!l.reversed||!l.horiz&&l.reversed?(u=r+h*this.to,g=r+h*this.from):(u=r+h*(1-this.from),g=r+h*(1-this.to)),this.shouldUpdateExtremes(p.DOMType)?l.setExtremes(g,u,!0,"mousemove"!==p.DOMType&&"touchmove"!==p.DOMType&&void 0,p):this.setRange(this.from,this.to))}))}function o(){let l,p,u,{scrollMin:g,scrollMax:c}=e(this),d=this.scrollbar,r=this.axisTitleMargin+(this.titleOffset||0),a=this.chart.scrollbarsOffsets,h=this.options.margin||0;if(d&&a){if(this.horiz)this.opposite||(a[1]+=r),d.position(this.left,this.top+this.height+2+a[1]-(this.opposite?h:0),this.width,this.height),this.opposite||(a[1]+=h),l=1;else{let m;this.opposite&&(a[0]+=r),m=d.options.opposite?this.left+this.width+2+a[0]-(this.opposite?0:h):this.opposite?0:h,d.position(m,this.top,this.width,this.height),this.opposite&&(a[0]+=h),l=0}if(a[l]+=d.size+(d.options.margin||0),isNaN(g)||isNaN(c)||!Mt(this.min)||!Mt(this.max)||this.dataMin===this.dataMax)d.setRange(0,1);else if(this.min===this.max){let m=this.pointRange/(this.dataMax+1);p=m*this.min,u=m*(this.max+1),d.setRange(p,u)}else p=(this.min-g)/(c-g),u=(this.max-g)/(c-g),this.horiz&&!this.reversed||!this.horiz&&this.reversed?d.setRange(p,u):d.setRange(1-u,1-p)}}n.compose=function(l,p){Ko(qo,"Axis.Scrollbar")&&(t=p,Vt(l,"afterGetOffset",i),Vt(l,"afterInit",s),Vt(l,"afterRender",o))}}(me||(me={}));let $o=me,Zt={height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1},{defaultOptions:ki}=B(),{composed:Jo}=B(),{addEvent:Qo,correctFloat:ut,crisp:qt,defined:Mi,destroyObjectProperties:tn,extend:en,fireEvent:It,merge:Ai,pick:Lt,pushUnique:sn,removeEvent:on}=B(),wi=(()=>{class n{static compose(e){$o.compose(e,n),sn(Jo,"Scrollbar")&&en(ki,{scrollbar:Zt})}static swapXY(e,i){return i&&e.forEach(s=>{let o,l=s.length;for(let p=0;p<l;p+=2)"number"==typeof(o=s[p+1])&&(s[p+1]=s[p+2],s[p+2]=o)}),e}constructor(e,i,s){this._events=[],this.chartX=0,this.chartY=0,this.from=0,this.scrollbarButtons=[],this.scrollbarLeft=0,this.scrollbarStrokeWidth=1,this.scrollbarTop=0,this.size=0,this.to=0,this.trackBorderWidth=1,this.x=0,this.y=0,this.init(e,i,s)}addEvents(){let e=this.options.inverted?[1,0]:[0,1],i=this.scrollbarButtons,s=this.scrollbarGroup.element,o=this.track.element,l=this.mouseDownHandler.bind(this),p=this.mouseMoveHandler.bind(this),u=this.mouseUpHandler.bind(this),g=[[i[e[0]].element,"click",this.buttonToMinClick.bind(this)],[i[e[1]].element,"click",this.buttonToMaxClick.bind(this)],[o,"click",this.trackClick.bind(this)],[s,"mousedown",l],[s.ownerDocument,"mousemove",p],[s.ownerDocument,"mouseup",u],[s,"touchstart",l],[s.ownerDocument,"touchmove",p],[s.ownerDocument,"touchend",u]];g.forEach(function(c){Qo.apply(null,c)}),this._events=g}buttonToMaxClick(e){let i=(this.to-this.from)*Lt(this.options.step,.2);this.updatePosition(this.from+i,this.to+i),It(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:e})}buttonToMinClick(e){let i=ut(this.to-this.from)*Lt(this.options.step,.2);this.updatePosition(ut(this.from-i),ut(this.to-i)),It(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:e})}cursorToScrollbarPosition(e){let i=this.options,s=i.minWidth>this.calculatedWidth?i.minWidth:0;return{chartX:(e.chartX-this.x-this.xOffset)/(this.barWidth-s),chartY:(e.chartY-this.y-this.yOffset)/(this.barWidth-s)}}destroy(){let e=this,i=e.chart.scroller;e.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(s){e[s]&&e[s].destroy&&(e[s]=e[s].destroy())}),i&&e===i.scrollbar&&(i.scrollbar=null,tn(i.scrollbarButtons))}drawScrollbarButton(e){let i=this.renderer,s=this.scrollbarButtons,o=this.options,l=this.size,p=i.g().add(this.group);if(s.push(p),o.buttonsEnabled){let u=i.rect().addClass("highcharts-scrollbar-button").add(p);this.chart.styledMode||u.attr({stroke:o.buttonBorderColor,"stroke-width":o.buttonBorderWidth,fill:o.buttonBackgroundColor}),u.attr(u.crisp({x:-.5,y:-.5,width:l,height:l,r:o.buttonBorderRadius},u.strokeWidth()));let g=i.path(n.swapXY([["M",l/2+(e?-1:1),l/2-3],["L",l/2+(e?-1:1),l/2+3],["L",l/2+(e?2:-2),l/2]],o.vertical)).addClass("highcharts-scrollbar-arrow").add(s[e]);this.chart.styledMode||g.attr({fill:o.buttonArrowColor})}}init(e,i,s){this.scrollbarButtons=[],this.renderer=e,this.userOptions=i,this.options=Ai(Zt,ki.scrollbar,i),this.options.margin=Lt(this.options.margin,10),this.chart=s,this.size=Lt(this.options.size,this.options.height),i.enabled&&(this.render(),this.addEvents())}mouseDownHandler(e){let i=this.chart.pointer?.normalize(e)||e,s=this.cursorToScrollbarPosition(i);this.chartX=s.chartX,this.chartY=s.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(e){let i,s=this.chart.pointer?.normalize(e)||e,o=this.options.vertical?"chartY":"chartX",l=this.initPositions||[];this.grabbedCenter&&(!e.touches||0!==e.touches[0][o])&&(i=this.cursorToScrollbarPosition(s)[o]-this[o],this.hasDragged=!0,this.updatePosition(l[0]+i,l[1]+i),this.hasDragged&&It(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:e.type,DOMEvent:e}))}mouseUpHandler(e){this.hasDragged&&It(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:e.type,DOMEvent:e}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(e,i,s,o){let{buttonsEnabled:l,margin:p=0,vertical:u}=this.options,g=this.rendered?"animate":"attr",c=o,d=0;this.group.show(),this.x=e,this.y=i+this.trackBorderWidth,this.width=s,this.height=o,this.xOffset=c,this.yOffset=d,u?(this.width=this.yOffset=s=d=this.size,this.xOffset=c=0,this.yOffset=d=l?this.size:0,this.barWidth=o-(l?2*s:0),this.x=e+=p):(this.height=o=this.size,this.xOffset=c=l?this.size:0,this.barWidth=s-(l?2*o:0),this.y=this.y+p),this.group[g]({translateX:e,translateY:this.y}),this.track[g]({width:s,height:o}),this.scrollbarButtons[1][g]({translateX:u?0:s-c,translateY:u?o-d:0})}removeEvents(){this._events.forEach(function(e){on.apply(null,e)}),this._events.length=0}render(){let e=this.renderer,i=this.options,s=this.size,o=this.chart.styledMode,l=e.g("scrollbar").attr({zIndex:i.zIndex}).hide().add();this.group=l,this.track=e.rect().addClass("highcharts-scrollbar-track").attr({r:i.trackBorderRadius||0,height:s,width:s}).add(l),o||this.track.attr({fill:i.trackBackgroundColor,stroke:i.trackBorderColor,"stroke-width":i.trackBorderWidth});let p=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-qt(0,p),y:-qt(0,p)}),this.scrollbarGroup=e.g().add(l),this.scrollbar=e.rect().addClass("highcharts-scrollbar-thumb").attr({height:s-p,width:s-p,r:i.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=e.path(n.swapXY([["M",-3,s/4],["L",-3,2*s/3],["M",0,s/4],["L",0,2*s/3],["M",3,s/4],["L",3,2*s/3]],i.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),o||(this.scrollbar.attr({fill:i.barBackgroundColor,stroke:i.barBorderColor,"stroke-width":i.barBorderWidth}),this.scrollbarRifles.attr({stroke:i.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-qt(0,this.scrollbarStrokeWidth),-qt(0,this.scrollbarStrokeWidth)),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(e,i){let s,o,l=this.options,p=l.vertical,u=l.minWidth,g=this.barWidth,c=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(!Mi(g))return;let d=g*Math.min(i,1);s=Math.ceil(g*(e=Math.max(e,0))),this.calculatedWidth=o=ut(d-s),o<u&&(s=(g-u+o)*e,o=u);let r=Math.floor(s+this.xOffset+this.yOffset),a=o/2-.5;this.from=e,this.to=i,p?(this.scrollbarGroup[c]({translateY:r}),this.scrollbar[c]({height:o}),this.scrollbarRifles[c]({translateY:a}),this.scrollbarTop=r,this.scrollbarLeft=0):(this.scrollbarGroup[c]({translateX:r}),this.scrollbar[c]({width:o}),this.scrollbarRifles[c]({translateX:a}),this.scrollbarLeft=r,this.scrollbarTop=0),o<=12?this.scrollbarRifles.hide():this.scrollbarRifles.show(),!1===l.showFull&&(e<=0&&i>=1?this.group.hide():this.group.show()),this.rendered=!0}shouldUpdateExtremes(e){return Lt(this.options.liveRedraw,B().svg&&!B().isTouchDevice&&!this.chart.boosted)||"mouseup"===e||"touchend"===e||!Mi(e)}trackClick(e){let i=this.chart.pointer?.normalize(e)||e,s=this.to-this.from;this.options.vertical&&i.chartY>this.y+this.scrollbarTop||!this.options.vertical&&i.chartX>this.x+this.scrollbarLeft?this.updatePosition(this.from+s,this.to+s):this.updatePosition(this.from-s,this.to-s),It(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:e})}update(e){this.destroy(),this.init(this.chart.renderer,Ai(!0,this.options,e),this.chart)}updatePosition(e,i){i>1&&(e=ut(1-ut(i-e)),i=1),e<0&&(i=ut(i-e),e=0),this.from=e,this.to=i}}return n.defaultOptions=Zt,n})();var rn=L.n(X.default.SVGRenderer);let{defaultOptions:Oe}=B(),{isTouchDevice:an}=B(),{prototype:{symbols:Si}}=rn(),{addEvent:N,clamp:Oi,correctFloat:Kt,defined:At,destroyObjectProperties:ln,erase:wt,extend:hn,find:dn,fireEvent:Ce,isArray:Ci,isNumber:J,merge:St,pick:j,removeEvent:$t,splat:Ti}=B();function Jt(n,...t){let e=[].filter.call(t,J);if(e.length)return Math[n].apply(0,e)}class Qt{static compose(t,e,i){(function(n,t){B().pushUnique(ko,n)&&(ce=t,n.prototype.callbacks.push(Co),kt(n,"afterAddSeries",Mo),kt(n,"afterSetChartSize",Ao),kt(n,"afterUpdate",wo),kt(n,"beforeRender",So),kt(n,"beforeShowResetZoom",Oo),kt(n,"update",To))})(t,Qt),function(n,t,e){we.compose(t),Vo(No,"Navigator")&&(n.prototype.setFixedRange=Uo,yi(Fo().prototype.symbols,Wo),yi(Yo,{navigator:Se}),Ho(e,"afterUpdate",jo))}(t,e,i)}constructor(t){this.isDirty=!1,this.scrollbarHeight=0,this.init(t)}drawHandle(t,e,i,s){let o=this.navigatorOptions.handles.height;this.handles[e][s](i?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(t,10)+.5-o)}:{translateX:Math.round(this.left+parseInt(t,10)),translateY:Math.round(this.top+this.height/2-o/2-1)})}drawOutline(t,e,i,s){let f,x,o=this.navigatorOptions.maskInside,l=this.outline.strokeWidth(),p=l/2,u=l%2/2,g=this.scrollButtonSize,c=this.size,d=this.top,r=this.height,a=d-p,h=d+r,m=this.left;i?(f=d+e+u,x=[["M",m+r,d-g-u],["L",m+r,f],["L",m,f],["M",m,e=d+t+u],["L",m+r,e],["L",m+r,d+c+g]],o&&x.push(["M",m+r,f-p],["L",m+r,e+p])):(m-=g,x=[["M",m,a],["L",t+=m+g-u,a],["L",t,h],["M",e+=m+g-u,h],["L",e,a],["L",m+c+2*g,a]],o&&x.push(["M",t-p,a],["L",e+p,a])),this.outline[s]({d:x})}drawMasks(t,e,i,s){let o,l,p,u,g=this.left,c=this.top,d=this.height;i?(p=[g,g,g],u=[c,c+t,c+e],l=[d,d,d],o=[t,e-t,this.size-e]):(p=[g,g+t,g+e],u=[c,c,c],l=[t,e-t,this.size-e],o=[d,d,d]),this.shades.forEach((r,a)=>{r[s]({x:p[a],y:u[a],width:l[a],height:o[a]})})}renderElements(){let t=this,e=t.navigatorOptions,i=e.maskInside,s=t.chart,l=s.renderer,p={cursor:s.inverted?"ns-resize":"ew-resize"},u=t.navigatorGroup??(t.navigatorGroup=l.g("navigator").attr({zIndex:8,visibility:"hidden"}).add());if([!i,i,!i].forEach((g,c)=>{let d=t.shades[c]??(t.shades[c]=l.rect().addClass("highcharts-navigator-mask"+(1===c?"-inside":"-outside")).add(u));s.styledMode||(d.attr({fill:g?e.maskFill:"rgba(0,0,0,0)"}),1===c&&d.css(p))}),t.outline||(t.outline=l.path().addClass("highcharts-navigator-outline").add(u)),s.styledMode||t.outline.attr({"stroke-width":e.outlineWidth,stroke:e.outlineColor}),e.handles?.enabled){let g=e.handles,{height:c,width:d}=g;[0,1].forEach(r=>{let a=g.symbols[r];if(t.handles[r]&&t.handles[r].symbolUrl===a){if(!t.handles[r].isImg&&t.handles[r].symbolName!==a){let h=Si[a].call(Si,-d/2-1,0,d,c);t.handles[r].attr({d:h}),t.handles[r].symbolName=a}}else t.handles[r]?.destroy(),t.handles[r]=l.symbol(a,-d/2-1,0,d,c,g),t.handles[r].attr({zIndex:7-r}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][r]).add(u),t.addMouseEvents();s.inverted&&t.handles[r].attr({rotation:90,rotationOriginX:Math.floor(-d/2),rotationOriginY:(c+d)/2}),s.styledMode||t.handles[r].attr({fill:g.backgroundColor,stroke:g.borderColor,"stroke-width":g.lineWidth,width:g.width,height:g.height,x:-d/2-1,y:0}).css(p)})}}update(t,e=!1){let i=this.chart,s=i.options.chart.inverted!==i.scrollbar?.options.vertical;if(St(!0,i.options.navigator,t),this.navigatorOptions=i.options.navigator||{},this.setOpposite(),At(t.enabled)||s)return this.destroy(),this.navigatorEnabled=t.enabled||this.navigatorEnabled,this.init(i);if(this.navigatorEnabled&&(this.isDirty=!0,!1===t.adaptToUpdatedData&&this.baseSeries.forEach(o=>{$t(o,"updatedData",this.updatedDataHandler)},this),t.adaptToUpdatedData&&this.baseSeries.forEach(o=>{o.eventsToUnbind.push(N(o,"updatedData",this.updatedDataHandler))},this),(t.series||t.baseSeries)&&this.setBaseSeries(void 0,!1),t.height||t.xAxis||t.yAxis)){this.height=t.height??this.height;let o=this.getXAxisOffsets();this.xAxis.update({...t.xAxis,offsets:o,[i.inverted?"width":"height"]:this.height,[i.inverted?"height":"width"]:void 0},!1),this.yAxis.update({...t.yAxis,[i.inverted?"width":"height"]:this.height},!1)}e&&i.redraw()}render(t,e,i,s){let m,f,x,A,y,o=this.chart,l=this.xAxis,p=l.pointRange||0,u=l.navigatorAxis.fake?o.xAxis[0]:l,g=this.navigatorEnabled,c=this.rendered,d=o.inverted,r=o.xAxis[0].minRange,a=o.xAxis[0].options.maxRange,h=this.scrollButtonSize,b=this.scrollbarHeight;if(this.hasDragged&&!At(i))return;if(this.isDirty&&this.renderElements(),t=Kt(t-p/2),e=Kt(e+p/2),!J(t)||!J(e)){if(!c)return;i=0,s=j(l.width,u.width)}this.left=j(l.left,o.plotLeft+h+(d?o.plotWidth:0));let M=this.size=A=j(l.len,(d?o.plotHeight:o.plotWidth)-2*h);m=d?b:A+2*h,i=j(i,l.toPixels(t,!0)),s=j(s,l.toPixels(e,!0)),J(i)&&Math.abs(i)!==1/0||(i=0,s=m);let k=l.toValue(i,!0),v=l.toValue(s,!0),O=Math.abs(Kt(v-k));O<r?this.grabbedLeft?i=l.toPixels(v-r-p,!0):this.grabbedRight&&(s=l.toPixels(k+r+p,!0)):At(a)&&Kt(O-p)>a&&(this.grabbedLeft?i=l.toPixels(v-a-p,!0):this.grabbedRight&&(s=l.toPixels(k+a+p,!0))),this.zoomedMax=Oi(Math.max(i,s),0,M),this.zoomedMin=Oi(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(i,s),0,M),this.range=this.zoomedMax-this.zoomedMin,M=Math.round(this.zoomedMax);let C=Math.round(this.zoomedMin);g&&(this.navigatorGroup.attr({visibility:"inherit"}),y=c&&!this.hasDragged?"animate":"attr",this.drawMasks(C,M,d,y),this.drawOutline(C,M,d,y),this.navigatorOptions.handles.enabled&&(this.drawHandle(C,0,d,y),this.drawHandle(M,1,d,y))),this.scrollbar&&(d?(x=this.top-h,f=this.left-b+(g||!u.opposite?0:(u.titleOffset||0)+u.axisTitleMargin),b=A+2*h):(x=this.top+(g?this.height:-b),f=this.left-h),this.scrollbar.position(f,x,m,b),this.scrollbar.setRange(this.zoomedMin/(A||1),this.zoomedMax/(A||1))),this.rendered=!0,this.isDirty=!1,Ce(this,"afterRender")}addMouseEvents(){let o,l,t=this,e=t.chart,i=e.container,s=[];t.mouseMoveHandler=o=function(p){t.onMouseMove(p)},t.mouseUpHandler=l=function(p){t.onMouseUp(p)},(s=t.getPartsEvents("mousedown")).push(N(e.renderTo,"mousemove",o),N(i.ownerDocument,"mouseup",l),N(e.renderTo,"touchmove",o),N(i.ownerDocument,"touchend",l)),s.concat(t.getPartsEvents("touchstart")),t.eventsToUnbind=s,t.series&&t.series[0]&&s.push(N(t.series[0].xAxis,"foundExtremes",function(){e.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(t){let e=this,i=[];return["shades","handles"].forEach(function(s){e[s].forEach(function(o,l){i.push(N(o.element,t,function(p){e[s+"Mousedown"](p,l)}))})}),i}shadesMousedown(t,e){t=this.chart.pointer?.normalize(t)||t;let c,d,r,a,s=this.xAxis,o=this.zoomedMin,l=this.size,p=this.range,u=this.left,g=t.chartX;this.chart.inverted&&(g=t.chartY,u=this.top),1===e?(this.grabbedCenter=g,this.fixedWidth=p,this.dragOffset=g-o):(a=g-u-p/2,0===e?a=Math.max(0,a):2===e&&a+p>=l&&(a=l-p,this.reversedExtremes?(a-=p,d=this.getUnionExtremes().dataMin):c=this.getUnionExtremes().dataMax),a!==o&&(this.fixedWidth=p,At((r=s.navigatorAxis.toFixedRange(a,a+p,d,c)).min)&&Ce(this,"setRange",{min:Math.min(r.min,r.max),max:Math.max(r.min,r.max),redraw:!0,eventArguments:{trigger:"navigator"}})))}handlesMousedown(t,e){t=this.chart.pointer?.normalize(t)||t;let i=this.chart,s=i.xAxis[0],o=this.reversedExtremes;0===e?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=o?s.min:s.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=o?s.max:s.min),i.setFixedRange(void 0)}onMouseMove(t){let g,e=this,i=e.chart,s=e.navigatorSize,o=e.range,l=e.dragOffset,p=i.inverted,u=e.left;(!t.touches||0!==t.touches[0].pageX)&&(g=(t=i.pointer?.normalize(t)||t).chartX,p&&(u=e.top,g=t.chartY),e.grabbedLeft?(e.hasDragged=!0,e.render(0,0,g-u,e.otherHandlePos)):e.grabbedRight?(e.hasDragged=!0,e.render(0,0,e.otherHandlePos,g-u)):e.grabbedCenter&&(e.hasDragged=!0,g<l?g=l:g>s+l-o&&(g=s+l-o),e.render(0,0,g-l,g-l+o)),e.hasDragged&&e.scrollbar&&j(e.scrollbar.options.liveRedraw,!an&&!this.chart.boosted)&&(t.DOMType=t.type,setTimeout(function(){e.onMouseUp(t)},0)))}onMouseUp(t){let e,i,s,o,l,p,g=this.xAxis,c=this.scrollbar,d=t.DOMEvent||t,r=this.chart.inverted,a=this.rendered&&!this.hasDragged?"animate":"attr";(this.hasDragged&&(!c||!c.hasDragged)||"scrollbar"===t.trigger)&&(s=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?o=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(l=this.fixedExtreme),this.zoomedMax===this.size&&(l=this.reversedExtremes?s.dataMin:s.dataMax),0===this.zoomedMin&&(o=this.reversedExtremes?s.dataMax:s.dataMin),At((p=g.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,o,l)).min)&&Ce(this,"setRange",{min:Math.min(p.min,p.max),max:Math.max(p.min,p.max),redraw:!0,animation:!this.hasDragged&&null,eventArguments:{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:d}})),"mousemove"!==t.DOMType&&"touchmove"!==t.DOMType&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&J(this.zoomedMin)&&J(this.zoomedMax)&&(i=Math.round(this.zoomedMin),e=Math.round(this.zoomedMax),this.shades&&this.drawMasks(i,e,r,a),this.outline&&this.drawOutline(i,e,r,a),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(i,0,r,a),this.drawHandle(e,1,r,a)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(t){t()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){let t=this.baseSeries||[];this.navigatorEnabled&&t[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&t.forEach(function(e){$t(e,"updatedData",this.updatedDataHandler)},this),t[0].xAxis&&$t(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}getXAxisOffsets(){return this.chart.inverted?[this.scrollButtonSize,0,-this.scrollButtonSize,0]:[0,-this.scrollButtonSize,0,this.scrollButtonSize]}init(t){let e=t.options,i=e.navigator||{},s=i.enabled,o=e.scrollbar||{},l=o.enabled,p=s&&i.height||0,u=l&&o.height||0,g=o.buttonsEnabled&&u||0;this.handles=[],this.shades=[],this.chart=t,this.setBaseSeries(),this.height=p,this.scrollbarHeight=u,this.scrollButtonSize=g,this.scrollbarEnabled=l,this.navigatorEnabled=s,this.navigatorOptions=i,this.scrollbarOptions=o,this.setOpposite();let c=this,d=c.baseSeries,r=t.xAxis.length,a=t.yAxis.length,h=d&&d[0]&&d[0].xAxis||t.xAxis[0]||{options:{}};if(t.isDirtyBox=!0,c.navigatorEnabled){let m=this.getXAxisOffsets();c.xAxis=new(ye())(t,St({breaks:h.options.breaks,ordinal:h.options.ordinal,overscroll:h.options.overscroll},i.xAxis,{type:"datetime",yAxis:i.yAxis?.id,index:r,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:h.options.ordinal?0:h.options.minPadding,maxPadding:h.options.ordinal?0:h.options.maxPadding,zoomEnabled:!1},t.inverted?{offsets:m,width:p}:{offsets:m,height:p}),"xAxis"),c.yAxis=new(ye())(t,St(i.yAxis,{alignTicks:!1,offset:0,index:a,isInternal:!0,reversed:j(i.yAxis&&i.yAxis.reversed,t.yAxis[0]&&t.yAxis[0].reversed,!1),zoomEnabled:!1},t.inverted?{width:p}:{height:p}),"yAxis"),d||i.series.data?c.updateNavigatorSeries(!1):0===t.series.length&&(c.unbindRedraw=N(t,"beforeRedraw",function(){t.series.length>0&&!c.series&&(c.setBaseSeries(),c.unbindRedraw())})),c.reversedExtremes=t.inverted&&!c.xAxis.reversed||!t.inverted&&c.xAxis.reversed,c.renderElements(),c.addMouseEvents()}else c.xAxis={chart:t,navigatorAxis:{fake:!0},translate:function(m,f){let x=t.xAxis[0],b=x.getExtremes(),A=x.len-2*g,y=Jt("min",x.options.min,b.dataMin),M=Jt("max",x.options.max,b.dataMax)-y;return f?m*M/A+y:A*(m-y)/M},toPixels:function(m){return this.translate(m)},toValue:function(m){return this.translate(m,!0)}},c.xAxis.navigatorAxis.axis=c.xAxis,c.xAxis.navigatorAxis.toFixedRange=we.prototype.toFixedRange.bind(c.xAxis.navigatorAxis);if(t.options.scrollbar?.enabled){let m=St(t.options.scrollbar,{vertical:t.inverted});J(m.margin)||(m.margin=t.inverted?-3:3),t.scrollbar=c.scrollbar=new wi(t.renderer,m,t),N(c.scrollbar,"changed",function(f){let x=c.size,b=x*this.to,A=x*this.from;c.hasDragged=c.scrollbar.hasDragged,c.render(0,0,A,b),this.shouldUpdateExtremes(f.DOMType)&&setTimeout(function(){c.onMouseUp(f)})})}c.addBaseSeriesEvents(),c.addChartEvents()}setOpposite(){this.opposite=j(this.navigatorOptions.opposite,!(this.navigatorEnabled||!this.chart.inverted))}getUnionExtremes(t){let e,i=this.chart.xAxis[0],s=this.chart.time,o=this.xAxis,l=o.options,p=i.options;return t&&null===i.dataMin||(e={dataMin:j(s.parse(l?.min),Jt("min",s.parse(p.min),i.dataMin,o.dataMin,o.min)),dataMax:j(s.parse(l?.max),Jt("max",s.parse(p.max),i.dataMax,o.dataMax,o.max))}),e}setBaseSeries(t,e){let i=this.chart,s=this.baseSeries=[];t=t||i.options&&i.options.navigator.baseSeries||(i.series.length?dn(i.series,o=>!o.options.isInternal).index:0),(i.series||[]).forEach((o,l)=>{!o.options.isInternal&&(o.options.showInNavigator||(l===t||o.options.id===t)&&!1!==o.options.showInNavigator)&&s.push(o)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,e)}updateNavigatorSeries(t,e){let u,g,d,i=this,s=i.chart,o=i.baseSeries,l={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:this.navigatorOptions.xAxis?.id,yAxis:this.navigatorOptions.yAxis?.id,showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},p=i.series=(i.series||[]).filter(r=>{let a=r.baseSeries;return!(0>o.indexOf(a)&&(a&&($t(a,"updatedData",i.updatedDataHandler),delete a.navigatorSeries),r.chart&&r.destroy(),1))}),c=i.navigatorOptions.series;o&&o.length&&o.forEach(r=>{let a=r.navigatorSeries,h=hn({color:r.color,visible:r.visible},Ci(c)?Oe.navigator.series:c);if(a&&!1===i.navigatorOptions.adaptToUpdatedData)return;l.name="Navigator "+o.length,d=(u=r.options||{}).navigatorOptions||{},h.dataLabels=Ti(h.dataLabels),(g=St(u,l,h,d)).pointRange=j(h.pointRange,d.pointRange,Oe.plotOptions[g.type||"line"].pointRange);let m=d.data||h.data;i.hasNavigatorData=i.hasNavigatorData||!!m,g.data=m||u.data?.slice(0),a&&a.options?a.update(g,e):(r.navigatorSeries=s.initSeries(g),s.setSortedData(),r.navigatorSeries.baseSeries=r,p.push(r.navigatorSeries))}),(c.data&&!(o&&o.length)||Ci(c))&&(i.hasNavigatorData=!1,(c=Ti(c)).forEach((r,a)=>{l.name="Navigator "+(p.length+1),(g=St(Oe.navigator.series,{color:s.series[a]&&!s.series[a].options.isInternal&&s.series[a].color||s.options.colors[a]||s.options.colors[0]},l,r)).data=r.data,g.data&&(i.hasNavigatorData=!0,p.push(s.initSeries(g)))})),t&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){let t=this,e=t.baseSeries||[];e[0]&&e[0].xAxis&&e[0].eventsToUnbind.push(N(e[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),e.forEach(i=>{i.eventsToUnbind.push(N(i,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),i.eventsToUnbind.push(N(i,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),!1!==this.navigatorOptions.adaptToUpdatedData&&i.xAxis&&i.eventsToUnbind.push(N(i,"updatedData",this.updatedDataHandler)),i.eventsToUnbind.push(N(i,"remove",function(){e&&wt(e,i),this.navigatorSeries&&t.series&&(wt(t.series,this.navigatorSeries),At(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(t){return this.baseSeries.reduce(function(e,i){return Math.min(e,i.getColumn("x")[0]??e)},t)}modifyNavigatorAxisExtremes(){let t=this.xAxis;if(void 0!==t.getExtremes){let e=this.getUnionExtremes(!0);e&&(e.dataMin!==t.min||e.dataMax!==t.max)&&(t.min=e.dataMin,t.max=e.dataMax)}}modifyBaseAxisExtremes(){let t,e,i=this.chart.navigator,s=this.getExtremes(),p=s.dataMin,u=s.dataMax,g=s.max-s.min,c=i.stickToMin,d=i.stickToMax,r=j(this.ordinal?.convertOverscroll(this.options.overscroll),0),a=i.series&&i.series[0],h=!!this.setExtremes;!(this.eventArgs&&"rangeSelectorButton"===this.eventArgs.trigger)&&(c&&(t=(e=p)+g),d&&(t=u+r,c||(e=Math.max(p,t-g,i.getBaseSeriesMin(a&&a.xData?a.xData[0]:-Number.MAX_VALUE)))),h&&(c||d)&&J(e)&&(this.min=this.userMin=e,this.max=this.userMax=t)),i.stickToMin=i.stickToMax=null}updatedDataHandler(){let t=this.chart.navigator,e=this.navigatorSeries,i=t.reversedExtremes?0===Math.round(t.zoomedMin):Math.round(t.zoomedMax)>=Math.round(t.size);t.stickToMax=j(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,i),t.stickToMin=t.shouldStickToMin(this,t),e&&!t.hasNavigatorData&&(e.options.pointStart=this.getColumn("x")[0],e.setData(this.options.data,!1,null,!1))}shouldStickToMin(t,e){let i=e.getBaseSeriesMin(t.getColumn("x")[0]),s=t.xAxis,o=s.max,l=s.min,p=s.options.range;return!(!J(o)||!J(l))&&(p&&o-i>0?o-i<p:l<=i)}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(N(this.chart,"redraw",function(){let t=this.navigator,e=t&&(t.baseSeries&&t.baseSeries[0]&&t.baseSeries[0].xAxis||this.xAxis[0]);e&&t.render(e.min,e.max)}),N(this.chart,"getMargins",function(){let t=this.navigator,e=t.opposite?"plotTop":"marginBottom";this.inverted&&(e=t.opposite?"marginRight":"plotLeft"),this[e]=(this[e]||0)+(t.navigatorEnabled||!this.inverted?t.height+(this.scrollbar?.options.margin||0)+t.scrollbarHeight:0)+(t.navigatorOptions.margin||0)}),N(Qt,"setRange",function(t){this.chart.xAxis[0].setExtremes(t.min,t.max,t.redraw,t.animation,t.eventArguments)}))}destroy(){this.removeEvents(),this.xAxis&&(wt(this.chart.xAxis,this.xAxis),wt(this.chart.axes,this.xAxis)),this.yAxis&&(wt(this.chart.yAxis,this.yAxis),wt(this.chart.axes,this.yAxis)),(this.series||[]).forEach(t=>{t.destroy&&t.destroy()}),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(t=>{this[t]&&this[t].destroy&&this[t].destroy(),this[t]=null}),[this.handles].forEach(t=>{ln(t)}),this.baseSeries.forEach(t=>{t.navigatorSeries=void 0}),this.navigatorEnabled=!1}}(hi=fe||(fe={})).setLength=function(n,t,e){return Array.isArray(n)?(n.length=t,n):n[e?"subarray":"slice"](0,t)},hi.splice=function(n,t,e,i,s=[]){if(Array.isArray(n))return Array.isArray(s)||(s=Array.from(s)),{removed:n.splice(t,e,...s),array:n};let o=Object.getPrototypeOf(n).constructor,l=n[i?"subarray":"slice"](t,t+e),p=new o(n.length-e+s.length);return p.set(n.subarray(0,t),0),p.set(s,t),p.set(n.subarray(t+e),t+s.length),{removed:l,array:p}};let{setLength:pn,splice:Ei}=fe,{fireEvent:Te,objectEach:Wt,uniqueKey:Xt}=B(),cn=class{constructor(n={}){this.autoId=!n.id,this.columns={},this.id=n.id||Xt(),this.modified=this,this.rowCount=0,this.versionTag=Xt();let t=0;Wt(n.columns||{},(e,i)=>{this.columns[i]=e.slice(),t=Math.max(t,e.length)}),this.applyRowCount(t)}applyRowCount(n){this.rowCount=n,Wt(this.columns,(t,e)=>{t.length!==n&&(this.columns[e]=pn(t,n))})}deleteRows(n,t=1){if(t>0&&n<this.rowCount){let e=0;Wt(this.columns,(i,s)=>{this.columns[s]=Ei(i,n,t).array,e=i.length}),this.rowCount=e}Te(this,"afterDeleteRows",{rowIndex:n,rowCount:t}),this.versionTag=Xt()}getColumn(n,t){return this.columns[n]}getColumns(n,t){return(n||Object.keys(this.columns)).reduce((e,i)=>(e[i]=this.columns[i],e),{})}getRow(n,t){return(t||Object.keys(this.columns)).map(e=>this.columns[e]?.[n])}setColumn(n,t=[],e=0,i){this.setColumns({[n]:t},e,i)}setColumns(n,t,e){let i=this.rowCount;Wt(n,(s,o)=>{this.columns[o]=s.slice(),i=s.length}),this.applyRowCount(i),e?.silent||(Te(this,"afterSetColumns"),this.versionTag=Xt())}setRow(n,t=this.rowCount,e,i){let{columns:s}=this,o=e?this.rowCount+1:t+1;Wt(n,(l,p)=>{let u=s[p]||!1!==i?.addColumns&&Array(o);u&&(e?u=Ei(u,t,0,!0,[l]).array:u[t]=l,s[p]=u)}),o>this.rowCount&&this.applyRowCount(o),i?.silent||(Te(this,"afterSetRows"),this.versionTag=Xt())}},{addEvent:gt,correctFloat:te,css:un,defined:Q,error:gn,isNumber:Ee,pick:Be,timeUnits:mn,isString:fn}=B();!function(n){function t(r,a,h,m,f=[],x=0,b){let v,O,C,T,S,A={},y=this.options.tickPixelInterval,M=this.chart.time,k=[],w=0,E=[],P=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!f||f.length<3||void 0===a)return M.getTimeTicks.apply(M,arguments);let D=f.length;for(v=0;v<D;v++){if(S=v&&f[v-1]>h,f[v]<a&&(w=v),v===D-1||f[v+1]-f[v]>5*x||S){if(f[v]>P){for(O=M.getTimeTicks(r,f[w],f[v],m);O.length&&O[0]<=P;)O.shift();O.length&&(P=O[O.length-1]),k.push(E.length),E=E.concat(O)}w=v+1}if(S)break}if(O){if(T=O.info,b&&T.unitRange<=mn.hour){for(w=1,v=E.length-1;w<v;w++)M.dateFormat("%d",E[w])!==M.dateFormat("%d",E[w-1])&&(A[E[w]]="day",C=!0);C&&(A[E[0]]="day"),T.higherRanks=A}T.segmentStarts=k,E.info=T}else gn(12,!1,this.chart);if(b&&Q(y)){let z,I,W,dt,Bt,R=E.length,Y=[],G=[],H=R;for(;H--;)I=this.translate(E[H]),W&&(G[H]=W-I),Y[H]=W=I;for(G.sort((Pt,ee)=>Pt-ee),(dt=G[Math.floor(G.length/2)])<.6*y&&(dt=null),H=E[R-1]>h?R-1:R,W=void 0;H--;)Bt=Math.abs(W-(I=Y[H])),W&&Bt<.8*y&&(null===dt||Bt<.8*dt)?(A[E[H]]&&!A[E[H+1]]?(z=H+1,W=I):z=H,E.splice(z,1)):W=I}return E}function e(r){let a=this.ordinal.positions;if(!a)return r;let m,h=a.length-1;return r<0?r=a[0]:r>h?r=a[h]:(h=Math.floor(r),m=r-h),void 0!==m&&void 0!==a[h]?a[h]+(m?m*(a[h+1]-a[h]):0):r}function i(r){let a=this.ordinal,h=this.old?this.old.min:this.min,m=this.old?this.old.transA:this.transA,f=a.getExtendedPositions();if(f?.length){let x=te((r-h)*m+this.minPixelPadding),b=te(a.getIndexOfPoint(x,f)),A=te(b%1);if(b>=0&&b<=f.length-1){let y=f[Math.floor(b)],M=f[Math.ceil(b)];return f[Math.floor(b)]+A*(M-y)}}return r}function s(r,a){let h=n.Additions.findIndexOf(r,a,!0);return r[h]===a?h:h+(a-r[h])/(r[h+1]-r[h])}function o(){this.ordinal||(this.ordinal=new n.Additions(this))}function l(){let{eventArgs:r,options:a}=this;if(this.isXAxis&&Q(a.overscroll)&&0!==a.overscroll&&Ee(this.max)&&Ee(this.min)&&(this.options.ordinal&&!this.ordinal.originalOrdinalRange&&this.ordinal.getExtendedPositions(!1),this.max===this.dataMax&&("pan"!==r?.trigger||this.isInternal)&&"navigator"!==r?.trigger)){let h=this.ordinal.convertOverscroll(a.overscroll);this.max+=h,!this.isInternal&&Q(this.userMin)&&"mousewheel"!==r?.trigger&&(this.min+=h)}}function p(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)}function u(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))}function g(r){let a=this.xAxis[0],h=a.ordinal.convertOverscroll(a.options.overscroll),m=r.originalEvent.chartX,f=this.options.chart.panning,x=!1;if("y"!==f?.type&&a.options.ordinal&&a.series.length&&(!r.touches||r.touches.length<=1)){let b,A,y=this.mouseDownX,M=a.getExtremes(),k=M.dataMin,v=M.dataMax,O=M.min,C=M.max,T=this.hoverPoints,w=Math.round((y-m)/(a.translationSlope*(a.ordinal.slope||a.closestPointRange||a.ordinal?.overscrollPointsRange))),E=a.ordinal.getExtendedPositions(),P={ordinal:{positions:E,extendedOrdinalPositions:E}},D=a.index2val,R=a.val2lin;if(O<=k&&w<=0||C>=v+h&&w>=0)return void r.preventDefault();P.ordinal.positions?Math.abs(w)>1&&(T&&T.forEach(function(Y){Y.setState()}),A=P.ordinal.positions,h&&(A=P.ordinal.positions=A.concat(a.ordinal.getOverscrollPositions())),v>A[A.length-1]&&A.push(v),this.setFixedRange(C-O),(b=a.navigatorAxis.toFixedRange(void 0,void 0,D.apply(P,[R.apply(P,[O,!0])+w]),D.apply(P,[R.apply(P,[C,!0])+w]))).min>=Math.min(A[0],O)&&b.max<=Math.max(A[A.length-1],C)+h&&a.setExtremes(b.min,b.max,!0,!1,{trigger:"pan"}),this.mouseDownX=m,un(this.container,{cursor:"move"})):x=!0}else x=!0;x||f&&/y/.test(f.type)?h&&Ee(a.dataMax)&&(a.max=a.dataMax+h):r.preventDefault()}function c(){let r=this.xAxis;r?.options.ordinal&&(delete r.ordinal.index,delete r.ordinal.originalOrdinalRange)}function d(r,a){let h,b,m=this.ordinal,f=m.positions,x=m.slope;if(!f)return r;if(f[0]<=r&&f[f.length-1]>=r)h=s(f,r);else{if(b=m.getExtendedPositions?.(),!b?.length)return r;let y=b.length;x||(x=(b[y-1]-b[0])/y);let M=s(b,f[0]);if(r>=b[0]&&r<=b[y-1])h=s(b,r)-M;else{if(!a)return r;h=r<b[0]?-M-(b[0]-r)/x:(r-b[y-1])/x+y-M}}return a?h:x*(h||0)+m.offset}n.compose=function(r,a,h){let m=r.prototype;return m.ordinal2lin||(m.getTimeTicks=t,m.index2val=e,m.lin2val=i,m.val2lin=d,m.ordinal2lin=m.val2lin,gt(r,"afterInit",o),gt(r,"foundExtremes",l),gt(r,"afterSetScale",p),gt(r,"initialAxisTranslation",u),gt(h,"pan",g),gt(h,"touchpan",g),gt(a,"updatedData",c)),r},n.Additions=class{constructor(r){this.index={},this.axis=r}beforeSetTickPositions(){let y,M,k,v,O,C,T,r=this.axis,a=r.ordinal,h=r.getExtremes(),m=h.min,f=h.max,x=r.brokenAxis?.hasBreaks,b=r.options.ordinal,A=r.options.overscroll&&r.ordinal.convertOverscroll(r.options.overscroll)||0,S=[],w=Number.MAX_VALUE,E=!1,P=!1,D=!1;if(b||x){let R=0;if(r.series.forEach(function(Y,G){let z=Y.getColumn("x",!0);if(M=[],G>0&&"highcharts-navigator-series"!==Y.options.id&&z.length>1&&(P=R!==z[1]-z[0]),R=z[1]-z[0],Y.boosted&&(D=Y.boosted),Y.reserveSpace()&&(!1!==Y.takeOrdinalPosition||x)&&(y=(S=S.concat(z)).length,S.sort(function(I,W){return I-W}),w=Math.min(w,Be(Y.closestPointRange,w)),y)){for(G=0;G<y-1;)S[G]!==S[G+1]&&M.push(S[G+1]),G++;M[0]!==S[0]&&M.unshift(S[0]),S=M}}),r.ordinal.originalOrdinalRange||(r.ordinal.originalOrdinalRange=(S.length-1)*w),P&&D&&(S.pop(),S.shift()),(y=S.length)>2){for(k=S[1]-S[0],T=y-1;T--&&!E;)S[T+1]-S[T]!==k&&(E=!0);!r.options.keepOrdinalPadding&&(S[0]-m>k||f-A-S[y-1]>k)&&(E=!0)}else r.options.overscroll&&(2===y?w=S[1]-S[0]:1===y?(w=A,S=[S[0],S[0]+w]):w=a.overscrollPointsRange);E||r.forceOrdinal?(r.options.overscroll&&(a.overscrollPointsRange=w,S=S.concat(a.getOverscrollPositions())),a.positions=S,v=r.ordinal2lin(Math.max(m,S[0]),!0),O=Math.max(r.ordinal2lin(Math.min(f,S[S.length-1]),!0),1),a.slope=C=(f-m)/(O-v),a.offset=m-v*C):(a.overscrollPointsRange=Be(r.closestPointRange,a.overscrollPointsRange),a.positions=r.ordinal.slope=a.offset=void 0)}r.isOrdinal=b&&E,a.groupIntervalFactor=null}static findIndexOf(r,a,h){let x,m=0,f=r.length-1;for(;m<f;)r[x=Math.ceil((m+f)/2)]<=a?m=x:f=x-1;return r[m]===a||h?m:-1}getExtendedPositions(r=!0){let y,M,a=this,h=a.axis,m=h.constructor.prototype,f=h.chart,x=h.series.reduce((v,O)=>{let C=O.currentDataGrouping;return v+(C?C.count+C.unitName:"raw")},""),b=r?h.ordinal.convertOverscroll(h.options.overscroll):0,A=h.getExtremes(),k=a.index;return k||(k=a.index={}),!k[x]&&((y={series:[],chart:f,forceOrdinal:!1,getExtremes:function(){return{min:A.dataMin,max:A.dataMax+b}},applyGrouping:m.applyGrouping,getGroupPixelWidth:m.getGroupPixelWidth,getTimeTicks:m.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:m.ordinal2lin,getIndexOfPoint:m.getIndexOfPoint,val2lin:m.val2lin}).ordinal.axis=y,h.series.forEach(v=>{if(!1===v.takeOrdinalPosition)return;M={xAxis:y,chart:f,groupPixelWidth:v.groupPixelWidth,destroyGroupedData:B().noop,getColumn:v.getColumn,applyGrouping:v.applyGrouping,getProcessedData:v.getProcessedData,reserveSpace:v.reserveSpace,visible:v.visible};let O=v.getColumn("x").concat(r?a.getOverscrollPositions():[]);M.dataTable=new cn({columns:{x:O}}),M.options={...v.options,dataGrouping:v.currentDataGrouping?{firstAnchor:v.options.dataGrouping?.firstAnchor,anchor:v.options.dataGrouping?.anchor,lastAnchor:v.options.dataGrouping?.firstAnchor,enabled:!0,forced:!0,approximation:"open",units:[[v.currentDataGrouping.unitName,[v.currentDataGrouping.count]]]}:{enabled:!1}},y.series.push(M),v.processData.apply(M)}),y.applyGrouping({hasExtremesChanged:!0}),M?.closestPointRange!==M?.basePointRange&&M.currentDataGrouping&&(y.forceOrdinal=!0),h.ordinal.beforeSetTickPositions.apply({axis:y}),!h.ordinal.originalOrdinalRange&&y.ordinal.originalOrdinalRange&&(h.ordinal.originalOrdinalRange=y.ordinal.originalOrdinalRange),y.ordinal.positions&&(k[x]=y.ordinal.positions)),k[x]}getGroupIntervalFactor(r,a,h){let b,A,m=h.getColumn("x",!0),f=m.length,x=[],y=this.groupIntervalFactor;if(!y){for(A=0;A<f-1;A++)x[A]=m[A+1]-m[A];x.sort(function(M,k){return M-k}),b=x[Math.floor(f/2)],r=Math.max(r,m[0]),a=Math.min(a,m[f-1]),this.groupIntervalFactor=y=f*b/(a-r)}return y}getIndexOfPoint(r,a){let h=this.axis,f=h.minPixelPadding;return s(a,h.min)+te((r-f)/(h.translationSlope*(this.slope||h.closestPointRange||this.overscrollPointsRange)))}getOverscrollPositions(){let r=this.axis,a=this.convertOverscroll(r.options.overscroll),h=this.overscrollPointsRange,m=[],f=r.dataMax;if(Q(h))for(;f<r.dataMax+a;)m.push(f+=h);return m}postProcessTickInterval(r){let h=this.axis,m=this.slope,f=h.closestPointRange;return m&&f?h.options.breaks?f||r:r/(m/f):r}convertOverscroll(r=0){let a=this,h=a.axis,m=function(f){return Be(a.originalOrdinalRange,Q(h.dataMax)&&Q(h.dataMin)?h.dataMax-h.dataMin:0)*f};if(fn(r)){let f,x=parseInt(r,10);if(Q(h.min)&&Q(h.max)&&Q(h.dataMin)&&Q(h.dataMax)&&((f=h.max-h.min==h.dataMax-h.dataMin)||(this.originalOrdinalRange=h.max-h.min)),/%$/.test(r))return m(x/100);if(/px/.test(r)){let b=Math.min(x,.9*h.len)/h.len;return m(b/(f?1-b:1))}return 0}return r}}}(xe||(xe={}));let Pe=xe,De={lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"\u2192",rangeSelector:{allText:"All",allTitle:"View all",monthText:"{count}m",monthTitle:"View {count} {#eq count 1}month{else}months{/eq}",yearText:"{count}y",yearTitle:"View {count} {#eq count 1}year{else}years{/eq}",ytdText:"YTD",ytdTitle:"View year to date"}},rangeSelector:{allButtonsEnabled:!1,buttons:[{type:"month",count:1},{type:"month",count:3},{type:"month",count:6},{type:"ytd"},{type:"year",count:1},{type:"all"}],buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%[ebY]",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}},{defaultOptions:Bi}=B(),{composed:xn}=B(),{addEvent:mt,defined:bn,extend:Pi,isNumber:Ot,merge:vn,pick:Di,pushUnique:yn}=B(),Re=[];function kn(){let n,t,e=this.range,i=e.type,s=this.max,o=this.chart.time,l=function(u,g){let c=o.toParts(u),d=c.slice();"year"===i?d[0]+=g:d[1]+=g;let r=o.makeTime.apply(o,d),a=o.toParts(r);return"month"===i&&c[1]===a[1]&&1===Math.abs(g)&&(d[0]=c[0],d[1]=c[1],d[2]=0),(r=o.makeTime.apply(o,d))-u};Ot(e)?(n=s-e,t=e):e&&(n=s+l(s,-(e.count||1)),this.chart&&this.chart.setFixedRange(s-n));let p=Di(this.dataMin,Number.MIN_VALUE);return Ot(n)||(n=p),n<=p&&(n=p,void 0===t&&(t=l(n,e.count)),this.newMax=Math.min(n+t,Di(this.dataMax,Number.MAX_VALUE))),Ot(s)?!Ot(e)&&e&&e._offsetMin&&(n+=e._offsetMin):n=void 0,n}function Mn(){this.rangeSelector?.redrawElements()}function An(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new ue(this))}function wn(){let n=this.rangeSelector;if(n){Ot(n.deferredYTDClick)&&(n.clickButton(n.deferredYTDClick),delete n.deferredYTDClick);let t=n.options.verticalAlign;n.options.floating||("bottom"===t?this.extraBottomMargin=!0:"top"===t&&(this.extraTopMargin=!0))}}function Ri(){let n,t=this.rangeSelector;if(!t)return;let e=this.xAxis[0].getExtremes(),i=this.legend,s=t&&t.options.verticalAlign;Ot(e.min)&&t.render(e.min,e.max),i.display&&"top"===s&&s===i.options.verticalAlign&&(n=vn(this.spacingBox),"vertical"===i.options.layout?n.y=this.plotTop:n.y+=t.getHeight(),i.group.placed=!1,i.align(n))}function Sn(){for(let n=0,t=Re.length;n<t;++n){let e=Re[n];if(e[0]===this)return e[1].forEach(i=>i()),void Re.splice(n,1)}}function On(){let n=this.rangeSelector;if(n?.options?.enabled){let t=n.getHeight(),e=n.options.verticalAlign;n.options.floating||("bottom"===e?this.marginBottom+=t:"middle"!==e&&(this.plotTop+=t))}}function Cn(n){let t=n.options.rangeSelector,e=this.extraBottomMargin,i=this.extraTopMargin,s=this.rangeSelector;if(t&&t.enabled&&!bn(s)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=s=new ue(this)),this.extraBottomMargin=!1,this.extraTopMargin=!1,s){let o=t&&t.verticalAlign||s.options&&s.options.verticalAlign;s.options.floating||("bottom"===o?this.extraBottomMargin=!0:"middle"!==o&&(this.extraTopMargin=!0)),(this.extraBottomMargin!==e||this.extraTopMargin!==i)&&(this.isDirtyBox=!0)}}var _i=L.n(X.default.SVGElement),zi=L.n(X.default.Templating);let{defaultOptions:_e}=B(),{format:Gi}=zi(),{addEvent:tt,createElement:Yt,css:ot,defined:nt,destroyObjectProperties:Pn,diffObjects:Dn,discardElement:Rn,extend:Ii,fireEvent:Ct,isNumber:F,isString:ze,merge:lt,objectEach:_n,pick:et,splat:zn}=B();function Li(n){let t=s=>RegExp(`%[[a-zA-Z]*${s}`).test(n);if(ze(n)?-1!==n.indexOf("%L"):n.fractionalSecondDigits)return"text";let e=ze(n)?["a","A","d","e","w","b","B","m","o","y","Y"].some(t):n.dateStyle||n.day||n.month||n.year,i=ze(n)?["H","k","I","l","M","S"].some(t):n.timeStyle||n.hour||n.minute||n.second;return e&&i?"datetime-local":e?"date":i?"time":"text"}class Nt{static compose(t,e){!function(n,t,e){if(ue=e,yn(xn,"RangeSelector")){let i=t.prototype;n.prototype.minFromRange=kn,mt(t,"afterGetContainer",An),mt(t,"beforeRender",wn),mt(t,"destroy",Sn),mt(t,"getMargins",On),mt(t,"redraw",Ri),mt(t,"update",Cn),mt(t,"beforeRedraw",Mn),i.callbacks.push(Ri),Pi(Bi,{rangeSelector:De.rangeSelector}),Pi(Bi.lang,De.lang)}}(t,e,Nt)}constructor(t){this.isDirty=!1,this.buttonOptions=[],this.initialButtonGroupWidth=0,this.maxButtonWidth=()=>{let e=0;return this.buttons.forEach(i=>{let s=i.getBBox();s.width>e&&(e=s.width)}),e},this.init(t)}clickButton(t,e){let d,a,m,f,x,i=this.chart,s=this.buttonOptions[t],o=i.xAxis[0],l=i.scroller&&i.scroller.getUnionExtremes()||o||{},p=s.type,u=s.dataGrouping,g=l.dataMin,c=l.dataMax,r=F(o?.max)?Math.round(Math.min(o.max,c??o.max)):void 0,h=s._range,b=!0;if(null!==g&&null!==c){if(this.setSelected(t),u&&(this.forcedDataGrouping=!0,ye().prototype.setDataGrouping.call(o||{chart:this.chart},u,!1),this.frozenStates=s.preserveDataGrouping),"month"===p||"year"===p)o?(f={range:s,max:r,chart:i,dataMin:g,dataMax:c},d=o.minFromRange.call(f),F(f.newMax)&&(r=f.newMax),b=!1):h=s;else if(h)F(r)&&(r=Math.min((d=Math.max(r-h,g))+h,c),b=!1);else if("ytd"===p){if(!o)return void(this.deferredYTDClick=t);!o.hasData()||F(c)&&F(g)||(g=Number.MAX_VALUE,c=-Number.MAX_VALUE,i.series.forEach(A=>{let y=A.getColumn("x");y.length&&(g=Math.min(y[0],g),c=Math.max(y[y.length-1],c))}),e=!1),F(c)&&F(g)&&(d=m=(x=this.getYTDExtremes(c,g)).min,r=x.max)}else"all"===p&&o&&(i.navigator&&i.navigator.baseSeries[0]&&(i.navigator.baseSeries[0].xAxis.options.range=void 0),d=g,r=c);if(b&&s._offsetMin&&nt(d)&&(d+=s._offsetMin),s._offsetMax&&nt(r)&&(r+=s._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=t+1),o)F(d)&&F(r)&&(o.setExtremes(d,r,et(e,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:s}),i.setFixedRange(s._range));else{a=zn(i.options.xAxis||{})[0];let A=tt(i,"afterCreateAxes",function(){let y=i.xAxis[0];y.range=y.options.range=h,y.min=y.options.min=m});tt(i,"load",function(){let y=i.xAxis[0];i.setFixedRange(s._range),y.options.range=a.range,y.options.min=a.min,A()})}Ct(this,"afterBtnClick")}}setSelected(t){this.selected=this.options.selected=t}init(t){let e=this,i=t.options.rangeSelector,s=t.options.lang,o=i.buttons,l=i.selected,p=function(){let u=e.minInput,g=e.maxInput;u&&u.blur&&Ct(u,"blur"),g&&g.blur&&Ct(g,"blur")};e.chart=t,e.options=i,e.buttons=[],e.buttonOptions=o.map(u=>(u.type&&s.rangeSelector&&(u.text??(u.text=s.rangeSelector[`${u.type}Text`]),u.title??(u.title=s.rangeSelector[`${u.type}Title`])),u.text=Gi(u.text,{count:u.count||1}),u.title=Gi(u.title,{count:u.count||1}),u)),this.eventsToUnbind=[],this.eventsToUnbind.push(tt(t.container,"mousedown",p)),this.eventsToUnbind.push(tt(t,"resize",p)),o.forEach(e.computeButtonRange),void 0!==l&&o[l]&&this.clickButton(l,!1),this.eventsToUnbind.push(tt(t,"load",function(){t.xAxis&&t.xAxis[0]&&tt(t.xAxis[0],"setExtremes",function(u){F(this.max)&&F(this.min)&&this.max-this.min!==t.fixedRange&&"rangeSelectorButton"!==u.trigger&&"updatedData"!==u.trigger&&e.forcedDataGrouping&&!e.frozenStates&&this.setDataGrouping(!1,!1)})})),this.createElements()}updateButtonStates(){let t=this,e=this.chart,i=this.dropdown,s=this.dropdownLabel,o=e.xAxis[0],l=Math.round(o.max-o.min),p=!o.hasVisibleSeries,u=864e5,g=e.scroller&&e.scroller.getUnionExtremes()||o,c=g.dataMin,d=g.dataMax,r=t.getYTDExtremes(d,c),a=r.min,h=r.max,m=t.selected,f=t.options.allButtonsEnabled,x=Array(t.buttonOptions.length).fill(0),b=F(m),A=t.buttons,y=!1,M=null;t.buttonOptions.forEach((k,v)=>{let O=k._range,C=k.type,T=k.count||1,S=k._offsetMax-k._offsetMin,w=v===m,E=O>d-c,P=O<o.minRange,D=!1,R=O===l;if(w&&E&&(y=!0),o.isOrdinal&&o.ordinal?.positions&&O&&l<O){let z=o.ordinal.positions,I=Pe.Additions.findIndexOf(z,o.min,!0);z[Math.min(Pe.Additions.findIndexOf(z,o.max,!0)+1,z.length-1)]-z[I]>O&&(R=!0)}else("month"===C||"year"===C)&&l+36e5>={month:28,year:365}[C]*u*T-S&&l-36e5<={month:31,year:366}[C]*u*T+S?R=!0:"ytd"===C?(R=h-a+S===l,D=!w):"all"===C&&(R=o.max-o.min>=d-c);f||y&&"all"===C||!(E||P||p)?(y&&"all"===C||!D&&R||w&&t.frozenStates)&&(!b||v===m)&&(M=v):x[v]=3}),null!==M?(x[M]=2,t.setSelected(M),this.dropdown&&(this.dropdown.selectedIndex=M+1)):(t.setSelected(),this.dropdown&&(this.dropdown.selectedIndex=-1),s&&(s.setState(0),s.attr({text:(_e.lang.rangeSelectorZoom||"")+" \u25be"})));for(let k=0;k<x.length;k++){let v=x[k],O=A[k];if(O.state!==v&&(O.setState(v),i)){i.options[k+1].disabled=3===v,2===v&&(s&&(s.setState(2),s.attr({text:t.buttonOptions[k].text+" \u25be"})),i.selectedIndex=k+1);let C=s.getBBox();ot(i,{width:`${C.width}px`,height:`${C.height}px`})}}}computeButtonRange(t){let e=t.type,i=t.count||1,s={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};s[e]?t._range=s[e]*i:("month"===e||"year"===e)&&(t._range=24*{month:30,year:365}[e]*36e5*i),t._offsetMin=et(t.offsetMin,0),t._offsetMax=et(t.offsetMax,0),t._range+=t._offsetMax-t._offsetMin}getInputValue(t){let e="min"===t?this.minInput:this.maxInput,s=this.chart.time;return e?("text"===e.type&&this.chart.options.rangeSelector.inputDateParser||this.defaultInputDateParser)(e.value,"UTC"===s.timezone,s):0}setInputValue(t,e){let i=this.options,s=this.chart.time,o="min"===t?this.minInput:this.maxInput,l="min"===t?this.minDateBox:this.maxDateBox;if(o){o.setAttribute("type",Li(i.inputDateFormat||"%e %b %Y"));let p=o.getAttribute("data-hc-time"),u=nt(p)?Number(p):void 0;if(nt(e)){let g=u;nt(g)&&o.setAttribute("data-hc-time-previous",g),o.setAttribute("data-hc-time",e),u=e}o.value=s.dateFormat(this.inputTypeFormats[o.type]||i.inputEditDateFormat,u),l&&l.attr({text:s.dateFormat(i.inputDateFormat,u)})}}setInputExtremes(t,e,i){let s="min"===t?this.minInput:this.maxInput;if(s){let o=this.inputTypeFormats[s.type],l=this.chart.time;if(o){let p=l.dateFormat(o,e);s.min!==p&&(s.min=p);let u=l.dateFormat(o,i);s.max!==u&&(s.max=u)}}}showInput(t){let e="min"===t?this.minDateBox:this.maxDateBox,i="min"===t?this.minInput:this.maxInput;if(i&&e&&this.inputGroup){let s="text"===i.type,{translateX:o=0,translateY:l=0}=this.inputGroup,{x:p=0,width:u=0,height:g=0}=e,{inputBoxWidth:c}=this.options;ot(i,{width:s?u+(c?-2:20)+"px":"auto",height:g-2+"px",border:"2px solid silver"}),ot(i,s&&c?{left:o+p+"px",top:l+"px"}:{left:Math.min(Math.round(p+o-(i.offsetWidth-u)/2),this.chart.chartWidth-i.offsetWidth)+"px",top:l-(i.offsetHeight-g)/2+"px"})}}hideInput(t){let e="min"===t?this.minInput:this.maxInput;e&&ot(e,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(t,e,i){return i?.parse(t)||0}drawInput(t){let{chart:e,div:i,inputGroup:s}=this,o=this,l=e.renderer.style||{},p=e.renderer,u=e.options.rangeSelector,c="min"===t;function d(x){let{maxInput:b,minInput:A}=o,y=e.xAxis[0],M=e.scroller?.getUnionExtremes()||y,k=M.dataMin,v=M.dataMax,O=e.xAxis[0].getExtremes()[x],C=o.getInputValue(x);F(C)&&C!==O&&(c&&b&&F(k)?C>Number(b.getAttribute("data-hc-time"))?C=void 0:C<k&&(C=k):A&&F(v)&&(C<Number(A.getAttribute("data-hc-time"))?C=void 0:C>v&&(C=v)),void 0!==C&&y.setExtremes(c?C:y.min,c?y.max:C,void 0,void 0,{trigger:"rangeSelectorInput"}))}let r=_e.lang[c?"rangeSelectorFrom":"rangeSelectorTo"]||"",a=p.label(r,0).addClass("highcharts-range-label").attr({padding:2*!!r,height:r?u.inputBoxHeight:0}).add(s),h=p.label("",0).addClass("highcharts-range-input").attr({padding:2,width:u.inputBoxWidth,height:u.inputBoxHeight,"text-align":"center"}).on("click",function(){o.showInput(t),o[t+"Input"].focus()});e.styledMode||h.attr({stroke:u.inputBoxBorderColor,"stroke-width":1}),h.add(s);let m=Yt("input",{name:t,className:"highcharts-range-selector"},void 0,i);m.setAttribute("type",Li(u.inputDateFormat||"%e %b %Y")),e.styledMode||(a.css(lt(l,u.labelStyle)),h.css(lt({color:"#333333"},l,u.inputStyle)),ot(m,Ii({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:l.fontSize,fontFamily:l.fontFamily,top:"-9999em"},u.inputStyle))),m.onfocus=()=>{o.showInput(t)},m.onblur=()=>{m===B().doc.activeElement&&d(t),o.hideInput(t),o.setInputValue(t),m.blur()};let f=!1;return m.onchange=()=>{f||(d(t),o.hideInput(t),m.blur())},m.onkeypress=x=>{13===x.keyCode&&d(t)},m.onkeydown=x=>{f=!0,("ArrowUp"===x.key||"ArrowDown"===x.key||"Tab"===x.key)&&d(t)},m.onkeyup=()=>{f=!1},{dateBox:h,input:m,label:a}}getPosition(){let t=this.chart,e=t.options.rangeSelector,i="top"===e.verticalAlign?t.plotTop-t.axisOffset[0]:0;return{buttonTop:i+e.buttonPosition.y,inputTop:i+e.inputPosition.y-10}}getYTDExtremes(t,e){let i=this.chart.time,s=i.toParts(t)[0];return{max:t,min:Math.max(e,i.makeTime(s,0))}}createElements(){let t=this.chart,e=t.renderer,i=t.container,s=t.options,o=s.rangeSelector,l=o.inputEnabled,p=et(s.chart.style?.zIndex,0)+1;!1!==o.enabled&&(this.group=e.g("range-selector-group").attr({zIndex:7}).add(),this.div=Yt("div",void 0,{position:"relative",height:0,zIndex:p}),this.buttonOptions.length&&this.renderButtons(),i.parentNode&&i.parentNode.insertBefore(this.div,i),l&&this.createInputs())}createInputs(){this.inputGroup=this.chart.renderer.g("input-group").add(this.group);let t=this.drawInput("min");this.minDateBox=t.dateBox,this.minLabel=t.label,this.minInput=t.input;let e=this.drawInput("max");this.maxDateBox=e.dateBox,this.maxLabel=e.label,this.maxInput=e.input}render(t,e){if(!1===this.options.enabled)return;let i=this.chart,s=i.options.rangeSelector;if(s.inputEnabled){this.inputGroup||this.createInputs(),this.setInputValue("min",t),this.setInputValue("max",e),this.chart.styledMode||(this.maxLabel?.css(s.labelStyle),this.minLabel?.css(s.labelStyle));let o=i.scroller&&i.scroller.getUnionExtremes()||i.xAxis[0]||{};if(nt(o.dataMin)&&nt(o.dataMax)){let l=i.xAxis[0].minRange||0;this.setInputExtremes("min",o.dataMin,Math.min(o.dataMax,this.getInputValue("max"))-l),this.setInputExtremes("max",Math.max(o.dataMin,this.getInputValue("min"))+l,o.dataMax)}if(this.inputGroup){let l=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(p=>{if(p){let{width:u}=p.getBBox();u&&(p.attr({x:l}),l+=u+s.inputSpacing)}})}}else this.inputGroup&&(this.inputGroup.destroy(),delete this.inputGroup);!this.chart.styledMode&&this.zoomText&&this.zoomText.css(s.labelStyle),this.alignElements(),this.updateButtonStates()}renderButtons(){var t;let{chart:e,options:i}=this,s=_e.lang,o=e.renderer,l=lt(i.buttonTheme),p=l&&l.states;delete l.width,delete l.states,this.buttonGroup=o.g("range-selector-buttons").add(this.group);let u=this.dropdown=Yt("select",void 0,{position:"absolute",padding:0,border:0,cursor:"pointer",opacity:1e-4},this.div),g=e.userOptions.rangeSelector?.buttonTheme;this.dropdownLabel=o.button("",0,0,()=>{},lt(l,{"stroke-width":et(l["stroke-width"],0),width:"auto",paddingLeft:et(i.buttonTheme.paddingLeft,g?.padding,8),paddingRight:et(i.buttonTheme.paddingRight,g?.padding,8)}),p&&p.hover,p&&p.select,p&&p.disabled).hide().add(this.group),tt(u,"touchstart",()=>{u.style.fontSize="16px"});let c=B().isMS?"mouseover":"mouseenter",d=B().isMS?"mouseout":"mouseleave";tt(u,c,()=>{Ct(this.dropdownLabel.element,c)}),tt(u,d,()=>{Ct(this.dropdownLabel.element,d)}),tt(u,"change",()=>{Ct(this.buttons[u.selectedIndex-1].element,"click")}),this.zoomText=o.label(s.rangeSelectorZoom||"",0).attr({padding:i.buttonTheme.padding,height:i.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(i.labelStyle),(t=i.buttonTheme)["stroke-width"]??(t["stroke-width"]=0)),Yt("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,u),this.createButtons()}createButtons(){let{options:t}=this,e=lt(t.buttonTheme),i=e&&e.states,s=e.width||28;delete e.width,delete e.states,this.buttonOptions.forEach((o,l)=>{this.createButton(o,l,s,i)})}createButton(t,e,i,s){let{dropdown:o,buttons:l,chart:p,options:u}=this,g=p.renderer,c=lt(u.buttonTheme);o?.add(Yt("option",{textContent:t.title||t.text}),e+2),l[e]=g.button(t.text??"",0,0,d=>{let r,a=t.events&&t.events.click;a&&(r=a.call(t,d)),!1!==r&&this.clickButton(e),this.isActive=!0},c,s&&s.hover,s&&s.select,s&&s.disabled).attr({"text-align":"center",width:i}).add(this.buttonGroup),t.title&&l[e].attr("title",t.title)}alignElements(){let{buttonGroup:t,buttons:e,chart:i,group:s,inputGroup:o,options:l,zoomText:p}=this,u=i.options,g=u.exporting&&!1!==u.exporting.enabled&&u.navigation&&u.navigation.buttonOptions,{buttonPosition:c,inputPosition:d,verticalAlign:r}=l,a=(m,f,x)=>g&&this.titleCollision(i)&&"top"===r&&x&&f.y-m.getBBox().height-12<(g.y||0)+(g.height||0)+i.spacing[0]?-40:0,h=i.plotLeft;if(s&&c&&d){let m=c.x-i.spacing[3];if(t){if(this.positionButtons(),!this.initialButtonGroupWidth){let O=0;p&&(O+=p.getBBox().width+5),e.forEach((C,T)=>{O+=C.width||0,T!==e.length-1&&(O+=l.buttonSpacing)}),this.initialButtonGroupWidth=O}h-=i.spacing[3];let v=a(t,c,"right"===c.align||"right"===d.align);this.alignButtonGroup(v),this.buttonGroup?.translateY&&this.dropdownLabel.attr({y:this.buttonGroup.translateY}),s.placed=t.placed=i.hasLoaded}let f=0;l.inputEnabled&&o&&(f=a(o,d,"right"===c.align||"right"===d.align),"left"===d.align?m=h:"right"===d.align&&(m=-Math.max(i.axisOffset[1],-f)),o.align({y:d.y,width:o.getBBox().width,align:d.align,x:d.x+m-2},!0,i.spacingBox),o.placed=i.hasLoaded),this.handleCollision(f),s.align({verticalAlign:r},!0,i.spacingBox);let x=s.alignAttr.translateY,b=s.getBBox().height+20,A=0;if("bottom"===r){let v=i.legend&&i.legend.options;A=x-(b=b+(v&&"bottom"===v.verticalAlign&&v.enabled&&!v.floating?i.legend.legendHeight+et(v.margin,10):0)-20)-(l.floating?0:l.y)-(i.titleOffset?i.titleOffset[2]:0)-10}"top"===r?(l.floating&&(A=0),i.titleOffset&&i.titleOffset[0]&&(A=i.titleOffset[0]),A+=i.margin[0]-i.spacing[0]||0):"middle"===r&&(d.y===c.y?A=x:(d.y||c.y)&&(d.y<0||c.y<0?A-=Math.min(d.y,c.y):A=x-b)),s.translate(l.x,l.y+Math.floor(A));let{minInput:y,maxInput:M,dropdown:k}=this;l.inputEnabled&&y&&M&&(y.style.marginTop=s.translateY+"px",M.style.marginTop=s.translateY+"px"),k&&(k.style.marginTop=s.translateY+"px")}}redrawElements(){let t=this.chart,{inputBoxHeight:e,inputBoxBorderColor:i}=this.options;if(this.maxDateBox?.attr({height:e}),this.minDateBox?.attr({height:e}),t.styledMode||(this.maxDateBox?.attr({stroke:i}),this.minDateBox?.attr({stroke:i})),this.isDirty){this.isDirty=!1,this.isCollapsed=void 0;let s=this.options.buttons??[],o=Math.min(s.length,this.buttonOptions.length),{dropdown:l,options:p}=this,u=lt(p.buttonTheme),g=u&&u.states,c=u.width||28;if(s.length<this.buttonOptions.length)for(let d=this.buttonOptions.length-1;d>=s.length;d--)this.buttons.pop()?.destroy(),this.dropdown?.options.remove(d+1);for(let d=o-1;d>=0;d--)if(0!==Object.keys(Dn(s[d],this.buttonOptions[d])).length){let r=s[d];this.buttons[d].destroy(),l?.options.remove(d+1),this.createButton(r,d,c,g),this.computeButtonRange(r)}if(s.length>this.buttonOptions.length)for(let d=this.buttonOptions.length;d<s.length;d++)this.createButton(s[d],d,c,g),this.computeButtonRange(s[d]);this.buttonOptions=this.options.buttons??[],nt(this.options.selected)&&this.buttons.length&&this.clickButton(this.options.selected,!1)}}alignButtonGroup(t,e){let{chart:i,options:s,buttonGroup:o,dropdown:l,dropdownLabel:p}=this,{buttonPosition:u}=s,g=i.plotLeft-i.spacing[3],c=u.x-i.spacing[3],d=i.plotLeft;"right"===u.align?(c+=t-g,this.hasVisibleDropdown&&(d=i.chartWidth+t-this.maxButtonWidth()-20)):"center"===u.align&&(c-=g/2,this.hasVisibleDropdown&&(d=i.chartWidth/2-this.maxButtonWidth())),l&&ot(l,{left:d+"px",top:o?.translateY+"px"}),p?.attr({x:d}),o&&o.align({y:u.y,width:et(e,this.initialButtonGroupWidth),align:u.align,x:c},!0,i.spacingBox)}positionButtons(){let{buttons:t,chart:e,options:i,zoomText:s}=this,o=e.hasLoaded?"animate":"attr",{buttonPosition:l}=i,p=e.plotLeft,u=p;s&&"hidden"!==s.visibility&&(s[o]({x:et(p+l.x,p)}),u+=l.x+s.getBBox().width+5);for(let g=0,c=this.buttonOptions.length;g<c;++g)"hidden"!==t[g].visibility?(t[g][o]({x:u}),u+=(t[g].width||0)+i.buttonSpacing):t[g][o]({x:p})}handleCollision(t){let{chart:e,buttonGroup:i,inputGroup:s,initialButtonGroupWidth:o}=this,{buttonPosition:l,dropdown:p,inputPosition:u}=this.options,g=()=>{s&&i&&s.attr({translateX:s.alignAttr.translateX+(e.axisOffset[1]>=-t?0:-t),translateY:s.alignAttr.translateY+i.getBBox().height+10})};s&&i?u.align===l.align?(g(),o>e.plotWidth+t-20?this.collapseButtons():this.expandButtons()):o-t+s.getBBox().width>e.plotWidth?"responsive"===p?this.collapseButtons():g():this.expandButtons():i&&"responsive"===p&&(o>e.plotWidth?this.collapseButtons():this.expandButtons()),i&&("always"===p&&this.collapseButtons(),"never"===p&&this.expandButtons()),this.alignButtonGroup(t)}collapseButtons(){let{buttons:t,zoomText:e}=this;!0!==this.isCollapsed&&(this.isCollapsed=!0,e.hide(),t.forEach(i=>{i.hide()}),this.showDropdown())}expandButtons(){let{buttons:t,zoomText:e}=this;!1!==this.isCollapsed&&(this.isCollapsed=!1,this.hideDropdown(),e.show(),t.forEach(i=>{i.show()}),this.positionButtons())}showDropdown(){let{buttonGroup:t,dropdownLabel:e,dropdown:i}=this;t&&i&&(e.show(),ot(i,{visibility:"inherit"}),this.hasVisibleDropdown=!0)}hideDropdown(){let{dropdown:t}=this;t&&(this.dropdownLabel.hide(),ot(t,{visibility:"hidden",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){let t=this.options,e=this.group,o=t.y,l=t.buttonPosition.y,p=t.inputPosition.y,u=0;if(t.height)return t.height;this.alignElements(),u=e?e.getBBox(!0).height+13+o:0;let g=Math.min(p,l);return(p<0&&l<0||p>0&&l>0)&&(u+=Math.abs(g)),u}titleCollision(t){return!(t.options.title.text||t.options.subtitle.text)}update(t,e=!0){let i=this.chart;if(lt(!0,this.options,t),this.options.selected&&this.options.selected>=this.options.buttons.length&&(this.options.selected=void 0,i.options.rangeSelector.selected=void 0),nt(t.enabled))return this.destroy(),this.init(i);this.isDirty=!!t.buttons,e&&this.render()}destroy(){let t=this,e=t.minInput,i=t.maxInput;t.eventsToUnbind&&(t.eventsToUnbind.forEach(s=>s()),t.eventsToUnbind=void 0),Pn(t.buttons),e&&(e.onfocus=e.onblur=e.onchange=null),i&&(i.onfocus=i.onblur=i.onchange=null),_n(t,function(s,o){s&&"chart"!==o&&(s instanceof _i()?s.destroy():s instanceof window.HTMLElement&&Rn(s),delete t[o]),s!==Nt.prototype[o]&&(t[o]=null)},this),this.buttons=[]}}Ii(Nt.prototype,{inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}});var Wi=L.n(X.default.Chart);let{format:In}=zi(),{getOptions:Xi}=B(),{setFixedRange:Ln}=vi,{addEvent:ft,clamp:Yi,crisp:Ni,defined:Ge,extend:Wn,find:Xn,isNumber:ht,isString:Yn,merge:Tt,pick:rt,splat:Fi}=B();function Ie(n,t,e){return"xAxis"===n?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0}:"yAxis"===n?{labels:{y:-2},opposite:e.opposite??t.opposite??!0,showLastLabel:!(!t.categories&&"category"!==t.type),title:{text:void 0}}:{}}function Ui(n,t){if("xAxis"===n){let i={type:"datetime",categories:void 0};return rt(t.navigator?.enabled,Se.enabled,!0)&&(i.startOnTick=!1,i.endOnTick=!1),i}return{}}class Le extends(Wi()){init(t,e){let i=Xi(),s=t.xAxis,o=t.yAxis,l=rt(t.navigator?.enabled,Se.enabled,!0);t.xAxis=t.yAxis=void 0;let p=Tt({chart:{panning:{enabled:!0,type:"x"},zooming:{pinchType:"x",mouseWheel:{type:"x"}}},navigator:{enabled:l},scrollbar:{enabled:rt(Zt.enabled,!0)},rangeSelector:{enabled:rt(De.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:rt(i.tooltip?.split,!0),crosshairs:!0},legend:{enabled:!1}},t,{isStock:!0});t.xAxis=s,t.yAxis=o,p.xAxis=Fi(t.xAxis||{}).map(u=>Tt(Ie("xAxis",u,i.xAxis),u,Ui("xAxis",t))),p.yAxis=Fi(t.yAxis||{}).map(u=>Tt(Ie("yAxis",u,i.yAxis),u)),super.init(p,e)}createAxis(t,e){return e.axis=Tt(Ie(t,e.axis,Xi()[t]),e.axis,Ui(t,this.userOptions)),super.createAxis(t,e)}}ft(Wi(),"update",function(n){let t=n.options;"scrollbar"in t&&this.navigator&&(Tt(!0,this.options.scrollbar,t.scrollbar),this.navigator.update({enabled:!!this.navigator.navigatorEnabled}),delete t.scrollbar)}),function(n){function t(g){if(!(this.crosshair?.label?.enabled&&this.cross&&ht(this.min)&&ht(this.max)))return;let v,O,S,c=this.chart,d=this.logarithmic,r=this.crosshair.label,a=this.horiz,h=this.opposite,m=this.left,f=this.top,x=this.width,b="inside"===this.options.tickPosition,A=!1!==this.crosshair.snap,y=g.e||this.cross?.e,M=g.point,k=this.crossLabel,C=r.format,T="",w=0,E=this.min,P=this.max;d&&(E=d.lin2log(this.min),P=d.lin2log(this.max));let D=a?"center":h?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center";!k&&(k=this.crossLabel=c.renderer.label("",0,void 0,r.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(M?.series?M.series.colorIndex:this.series[0]&&this.series[0].colorIndex)).attr({align:r.align||D,padding:rt(r.padding,8),r:rt(r.borderRadius,3),zIndex:2}).add(this.labelGroup),c.styledMode||k.attr({fill:r.backgroundColor||M?.series?.color||"#666666",stroke:r.borderColor||"","stroke-width":r.borderWidth||0}).css(Wn({color:"#ffffff",fontWeight:"normal",fontSize:"0.7em",textAlign:"center"},r.style||{}))),a?(v=A?(M.plotX||0)+m:y.chartX,O=f+(h?0:this.height)):(v=m+this.offset+(h?x:0),O=A?(M.plotY||0)+f:y.chartY),C||r.formatter||(this.dateTime&&(T="%b %d, %Y"),C="{value"+(T?":"+T:"")+"}");let R=A?this.isXAxis?M.x:M.y:this.toValue(a?y.chartX:y.chartY),Y=M?.series?M.series.isPointInside(M):ht(R)&&R>E&&R<P,G="";C?G=In(C,{value:R},c):r.formatter&&ht(R)&&(G=r.formatter.call(this,R)),k.attr({text:G,x:v,y:O,visibility:Y?"inherit":"hidden"});let z=k.getBBox();!ht(k.x)||a||h||(v=k.x-z.width/2),ht(k.y)&&(a?(b&&!h||!b&&h)&&(O=k.y-z.height):O=k.y-z.height/2),S=a?{left:m,right:m+this.width}:{left:"left"===this.labelAlign?m:0,right:"right"===this.labelAlign?m+this.width:c.chartWidth};let I=k.translateX||0;I<S.left&&(w=S.left-I),I+z.width>=S.right&&(w=-(I+z.width-S.right)),k.attr({x:Math.max(0,v+w),y:Math.max(0,O),anchorX:a?v:this.opposite?0:c.chartWidth,anchorY:a?this.opposite?c.chartHeight:0:O+z.height/2})}function e(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}function i(g){let c=this.chart,d=this.options,r=c._labelPanes=c._labelPanes||{},a=d.labels;if(c.options.isStock&&"yAxis"===this.coll){let h=d.top+","+d.height;!r[h]&&a.enabled&&(15===a.distance&&1===this.side&&(a.distance=0),void 0===a.align&&(a.align="right"),r[h]=this,g.align="right",g.preventDefault())}}function s(){let g=this.chart,c=this.options&&this.options.top+","+this.options.height;c&&g._labelPanes&&g._labelPanes[c]===this&&delete g._labelPanes[c]}function o(g){let y,M,k,v,C,T,c=this,d=c.isLinked&&!c.series&&c.linkedParent?c.linkedParent.series:c.series,r=c.chart,a=r.renderer,h=c.left,m=c.top,f=[],x=g.translatedValue,b=g.value,A=g.force,O=[];if(r.options.isStock&&!1!==g.acrossPanes&&"xAxis"===c.coll||"yAxis"===c.coll){for(let S of(g.preventDefault(),O=(w=>{let E="xAxis"===w?"yAxis":"xAxis",P=c.options[E];return ht(P)?[r[E][P]]:Yn(P)?[r.get(P)]:d.map(D=>D[E])})(c.coll),c.isXAxis?r.yAxis:r.xAxis))if(!S.options.isInternal){let w=S.isXAxis?"yAxis":"xAxis";c===(Ge(S.options[w])?r[w][S.options[w]]:r[w][0])&&O.push(S)}for(let S of(C=O.length?[]:[c.isXAxis?r.yAxis[0]:r.xAxis[0]],O))-1!==C.indexOf(S)||Xn(C,w=>w.pos===S.pos&&w.len===S.len)||C.push(S);if(ht(T=rt(x,c.translate(b||0,void 0,void 0,g.old))))if(c.horiz)for(let S of C){let w;v=(M=S.pos)+S.len,y=k=Math.round(T+c.transB),"pass"!==A&&(y<h||y>h+c.width)&&(A?y=k=Yi(y,h,h+c.width):w=!0),w||f.push(["M",y,M],["L",k,v])}else for(let S of C){let w;k=(y=S.pos)+S.len,M=v=m+c.height-T,"pass"!==A&&(M<m||M>m+c.height)&&(A?M=v=Yi(M,m,m+c.height):w=!0),w||f.push(["M",y,M],["L",k,v])}g.path=f.length>0?a.crispPolyLine(f,g.lineWidth||1):void 0}}function l(g){if(this.chart.options.isStock){let c;this.is("column")||this.is("columnrange")?c={borderWidth:0,shadow:!1}:this.is("scatter")||this.is("sma")||(c={marker:{enabled:!1,radius:2}}),c&&(g.plotOptions[this.type]=Tt(g.plotOptions[this.type],c))}}function p(){let c=this.options.dataGrouping;return!1!==this.allowDG&&c&&rt(c.enabled,this.chart.options.isStock)}function u(g,c){for(let d=0;d<g.length;d+=2){let r=g[d],a=g[d+1];Ge(r[1])&&r[1]===a[1]&&(r[1]=a[1]=Ni(r[1],c)),Ge(r[2])&&r[2]===a[2]&&(r[2]=a[2]=Ni(r[2],c))}return g}n.compose=function(g,c,d,r){let a=d.prototype;a.forceCropping||(ft(c,"afterDrawCrosshair",t),ft(c,"afterHideCrosshair",e),ft(c,"autoLabelAlign",i),ft(c,"destroy",s),ft(c,"getPlotLinePath",o),g.prototype.setFixedRange=Ln,a.forceCropping=p,ft(d,"setOptions",l),r.prototype.crispPolyLine=u)},n.stockChart=function(g,c,d){return new n(g,c,d)}}(Le||(Le={}));let Hi=Le,{column:{prototype:{pointClass:Nn}}}=Z().seriesTypes,{column:Vi}=Z().seriesTypes,{crisp:ji,extend:Zi,merge:Fn}=B(),{defaultOptions:Un}=B();class We extends Vi{extendStem(t,e,i){let s=t[0],o=t[1];"number"==typeof s[2]&&(s[2]=Math.max(i+e,s[2])),"number"==typeof o[2]&&(o[2]=Math.min(i-e,o[2]))}getPointPath(t,e){let i=e.strokeWidth(),s=t.series,o=ji(t.plotX||0,i),l=Math.round(t.shapeArgs.width/2),p=[["M",o,Math.round(t.yBottom)],["L",o,Math.round(t.plotHigh)]];if(null!==t.close){let u=ji(t.plotClose,i);p.push(["M",o,u],["L",o+l,u]),s.extendStem(p,i/2,u)}return p}drawSinglePoint(t){let s,e=t.series,i=e.chart,o=t.graphic;void 0!==t.plotY&&(o||(t.graphic=o=i.renderer.path().add(e.group)),i.styledMode||o.attr(e.pointAttribs(t,t.selected&&"select")),s=e.getPointPath(t,o),o[o?"animate":"attr"]({d:s}).addClass(t.getClassName(),!0))}drawPoints(){this.points.forEach(this.drawSinglePoint)}init(){super.init.apply(this,arguments),this.options.stacking=void 0}pointAttribs(t,e){let i=super.pointAttribs.call(this,t,e);return delete i.fill,i}toYData(t){return[t.high,t.low,t.close]}translate(){let t=this,e=t.yAxis,i=this.pointArrayMap&&this.pointArrayMap.slice()||[],s=i.map(o=>`plot${o.charAt(0).toUpperCase()+o.slice(1)}`);s.push("yBottom"),i.push("low"),super.translate.apply(t),t.points.forEach(function(o){i.forEach(function(l,p){let u=o[l];null!==u&&(t.dataModify&&(u=t.dataModify.modifyValue(u)),o[s[p]]=e.toPixels(u,!0))}),o.tooltipPos[1]=o.plotHigh+e.pos-t.chart.plotTop})}}We.defaultOptions=Fn(Vi.defaultOptions,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>{series.chart.options.lang.stockHigh}: {point.high}<br/>{series.chart.options.lang.stockLow}: {point.low}<br/>{series.chart.options.lang.stockClose}: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}),Zi(We.prototype,{pointClass:class extends Nn{},animate:null,directTouch:!1,keysAffectYAxis:["low","high"],pointArrayMap:["high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),Zi(Un.lang,{stockOpen:"Open",stockHigh:"High",stockLow:"Low",stockClose:"Close"}),Z().registerSeriesType("hlc",We);let{seriesTypes:{hlc:Hn}}=Z(),{composed:jn}=B(),{hlc:qi}=Z().seriesTypes,{addEvent:Ki,crisp:$i,extend:Ji,merge:Zn,pushUnique:qn}=B();function Kn(n){let t=n.options,e=t.dataGrouping;e&&t.useOhlcData&&"highcharts-navigator-series"!==t.id&&(e.approximation="ohlc")}function $n(n){let t=n.options;t.useOhlcData&&"highcharts-navigator-series"!==t.id&&Ji(this,{pointValKey:xt.prototype.pointValKey,pointArrayMap:xt.prototype.pointArrayMap,toYData:xt.prototype.toYData})}class xt extends qi{static compose(t,...e){qn(jn,"OHLCSeries")&&(Ki(t,"afterSetOptions",Kn),Ki(t,"init",$n))}getPointPath(t,e){let i=super.getPointPath(t,e),s=e.strokeWidth(),o=$i(t.plotX||0,s),l=Math.round(t.shapeArgs.width/2);if(null!==t.open){let p=$i(t.plotOpen,s);i.push(["M",o,p],["L",o-l,p]),super.extendStem(i,s/2,p)}return i}pointAttribs(t,e){let i=super.pointAttribs.call(this,t,e),s=this.options;return delete i.fill,!t.options.color&&s.upColor&&t.open<t.close&&(i.stroke=s.upColor),i}toYData(t){return[t.open,t.high,t.low,t.close]}}xt.defaultOptions=Zn(qi.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>{series.chart.options.lang.stockOpen}: {point.open}<br/>{series.chart.options.lang.stockHigh}: {point.high}<br/>{series.chart.options.lang.stockLow}: {point.low}<br/>{series.chart.options.lang.stockClose}: {point.close}<br/>'}}),Ji(xt.prototype,{pointClass:class Vn extends Hn.prototype.pointClass{getClassName(){return super.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}resolveUpColor(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)}resolveColor(){super.resolveColor(),this.series.is("heikinashi")||this.resolveUpColor()}getZone(){let t=super.getZone();return this.resolveUpColor(),t}applyOptions(){return super.applyOptions.apply(this,arguments),this.resolveColor&&this.resolveColor(),this}},pointArrayMap:["open","high","low","close"]}),Z().registerSeriesType("ohlc",xt);let{column:Jn,ohlc:Xe}=Z().seriesTypes,{crisp:Ye,merge:Qn}=B();class Qi extends Xe{pointAttribs(t,e){let i=Jn.prototype.pointAttribs.call(this,t,e),s=this.options,o=t.open<t.close,l=s.lineColor||this.color,p=t.color||this.color;if(i["stroke-width"]=s.lineWidth,i.fill=t.options.color||o&&s.upColor||p,i.stroke=t.options.lineColor||o&&s.upLineColor||l,e){let u=s.states[e];i.fill=u.color||i.fill,i.stroke=u.lineColor||i.stroke,i["stroke-width"]=u.lineWidth||i["stroke-width"]}return i}drawPoints(){let t=this.points,e=this.chart,i=this.yAxis.reversed;for(let s of t){let l,p,u,g,c,d,r,a,h,o=s.graphic,m=!o;if(void 0!==s.plotY){o||(s.graphic=o=e.renderer.path().add(this.group)),this.chart.styledMode||o.attr(this.pointAttribs(s,s.selected&&"select")).shadow(this.options.shadow);let f=o.strokeWidth();r=Ye(s.plotX||0,f),u=Math.min(l=s.plotOpen,p=s.plotClose),g=Math.max(l,p),h=Math.round(s.shapeArgs.width/2),c=i?g!==s.yBottom:Math.round(u)!==Math.round(s.plotHigh||0),d=i?Math.round(u)!==Math.round(s.plotHigh||0):g!==s.yBottom,u=Ye(u,f),g=Ye(g,f),(a=[]).push(["M",r-h,g],["L",r-h,u],["L",r+h,u],["L",r+h,g],["Z"],["M",r,u],["L",r,c?Math.round(i?s.yBottom:s.plotHigh):u],["M",r,g],["L",r,d?Math.round(i?s.plotHigh:s.yBottom):g]),o[m?"attr":"animate"]({d:a}).addClass(s.getClassName(),!0)}}}}Qi.defaultOptions=Qn(Xe.defaultOptions,{tooltip:Xe.defaultOptions.tooltip},{states:{hover:{lineWidth:2}},threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}),Z().registerSeriesType("candlestick",Qi);let{column:{prototype:{pointClass:tr}}}=Z().seriesTypes,{isNumber:er}=B();!function(n){let t=[];function e(s,o,l,p,u){let g=u&&u.anchorX||s,c=u&&u.anchorY||o,d=this.circle(g-1,c-1,2,2);return d.push(["M",g,c],["L",s,o+p],["L",s,o],["L",s+l,o],["L",s+l,o+p],["L",s,o+p],["Z"]),d}function i(s,o){s[o+"pin"]=function(l,p,u,g,c){let d,r=c&&c.anchorX,a=c&&c.anchorY;if("circle"===o&&g>u&&(l-=Math.round((g-u)/2),u=g),d=s[o](l,p,u,g,c),r&&a){let h=r;if("circle"===o)h=l+u/2;else{let f=d[0],x=d[1];"M"===f[0]&&"L"===x[0]&&(h=(f[1]+x[1])/2)}d.push(["M",h,p>a?p:p+g],["L",r,a]),d=d.concat(s.circle(r-1,a-1,2,2))}return d}}n.compose=function(s){if(-1===t.indexOf(s)){t.push(s);let l=s.prototype.symbols;l.flag=e,i(l,"circle"),i(l,"square")}let o=xi().getRendererType();t.indexOf(o)&&t.push(o)}}(be||(be={}));let sr=be;var nr=L.n(X.default.Series.types.column);let{composed:rr}=B(),{prototype:ar}=nr(),{prototype:lr}=co(),{defined:Ne,pushUnique:hr,stableSort:dr}=B();var Fe=ve||(ve={});function ts(n){return lr.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,n)}function es(){ar.translate.apply(this);let r,a,x,b,A,y,M,n=this,t=n.options,e=n.chart,i=n.points,s=t.onSeries,o=s&&e.get(s),l=o&&o.options.step,p=o&&o.points,u=e.inverted,g=n.xAxis,c=n.yAxis,d=i.length-1,h=t.onKey||"y",m=p&&p.length,f=0;if(o&&o.visible&&m)for(f=(o.pointXOffset||0)+(o.barW||0)/2,y=o.currentDataGrouping,b=p[m-1].x+(y?y.totalRange:0),dr(i,(k,v)=>k.x-v.x),h="plot"+h[0].toUpperCase()+h.substr(1);m--&&i[d];)if(x=p[m],(r=i[d]).y=x.y,x.x<=r.x&&void 0!==x[h]){if(r.x<=b&&(r.plotY=x[h],x.x<r.x&&!l&&(A=p[m+1]))&&void 0!==A[h])if(Ne(r.plotX)&&o.is("spline")){let E,k=[x.plotX||0,x.plotY||0],v=[A.plotX||0,A.plotY||0],O=x.controlPoints?.high||k,C=A.controlPoints?.low||v,T=(P,D)=>Math.pow(1-P,3)*k[D]+3*(1-P)*(1-P)*P*O[D]+3*(1-P)*P*P*C[D]+P*P*P*v[D],S=0,w=1;for(let P=0;P<100;P++){let D=(S+w)/2,R=T(D,0);if(null===R)break;if(.25>Math.abs(R-r.plotX)){E=D;break}R<r.plotX?S=D:w=D}Ne(E)&&(r.plotY=T(E,1),r.y=c.toValue(r.plotY,!0))}else M=(r.x-x.x)/(A.x-x.x),r.plotY+=M*(A[h]-x[h]),r.y+=M*(A.y-x.y);if(d--,m++,d<0)break}i.forEach((k,v)=>{let O;k.plotX+=f,(void 0===k.plotY||u)&&(k.plotX>=0&&k.plotX<=g.len?u?(k.plotY=g.translate(k.x,0,1,0,1),k.plotX=Ne(k.y)?c.translate(k.y,0,0,0,1):0):k.plotY=(g.opposite?0:n.yAxis.len)+g.offset:k.shapeArgs={}),(a=i[v-1])&&a.plotX===k.plotX&&(void 0===a.stackIndex&&(a.stackIndex=0),O=a.stackIndex+1),k.stackIndex=O}),this.onSeries=o}Fe.compose=function(n){if(hr(rr,"OnSeries")){let t=n.prototype;t.getPlotBox=ts,t.translate=es}return n},Fe.getPlotBox=ts,Fe.translate=es;let pr=ve,{noop:cr}=B(),{distribute:ur}=B(),{series:is,seriesTypes:{column:ss}}=Z(),{addEvent:gr,defined:mr,extend:fr,isNumber:xr,merge:os,objectEach:br,wrap:vr}=B();class Et extends ss{animate(t){t&&this.setClip()}drawPoints(){let t,e,i,s,o,l,p,u,g,c,d,r=this.points,a=this.chart,h=a.renderer,m=a.inverted,f=this.options,x=f.y,b=this.yAxis,A={},y=[],M=xr(f.borderRadius)?f.borderRadius:0;for(s=r.length;s--;)o=r[s],c=(m?o.plotY:o.plotX)>this.xAxis.len,t=o.plotX,p=o.stackIndex,i=o.options.shape||f.shape,void 0!==(e=o.plotY)&&(e=o.plotY+x-(void 0!==p&&p*f.stackDistance)),o.anchorX=p?void 0:o.plotX,u=p?void 0:o.plotY,d="flag"!==i,l=o.graphic,void 0!==e&&t>=0&&!c?(l&&o.hasNewShapeType()&&(l=l.destroy()),l||(l=o.graphic=h.label("",0,void 0,i,void 0,void 0,f.useHTML).addClass("highcharts-point").add(this.markerGroup),o.graphic.div&&(o.graphic.div.point=o),l.isNew=!0),l.attr({align:d?"center":"left",width:f.width,height:f.height,"text-align":f.textAlign,r:M}),a.styledMode||l.attr(this.pointAttribs(o)).css(os(f.style,o.style)).shadow(f.shadow),t>0&&(t-=l.strokeWidth()%2),g={y:e,anchorY:u},f.allowOverlapX&&(g.x=t,g.anchorX=o.anchorX),l.attr({text:o.options.title??f.title??"A"})[l.isNew?"attr":"animate"](g),f.allowOverlapX||(A[o.plotX]?A[o.plotX].size=Math.max(A[o.plotX].size,l.width||0):A[o.plotX]={align:.5*!!d,size:l.width||0,target:t,anchorX:t}),o.tooltipPos=[t,e+b.pos-a.plotTop]):l&&(o.graphic=l.destroy());if(!f.allowOverlapX){let k=100;for(let v of(br(A,function(O){O.plotX=O.anchorX,y.push(O),k=Math.max(O.size,k)}),ur(y,m?b.len:this.xAxis.len,k),r)){let C=v.graphic,T=C&&A[v.plotX];T&&C&&(mr(T.pos)?C[C.isNew?"attr":"animate"]({x:T.pos+(T.align||0)*T.size,anchorX:v.anchorX}).show().isNew=!1:C.hide().isNew=!0)}}f.useHTML&&this.markerGroup&&vr(this.markerGroup,"on",function(k){return _i().prototype.on.apply(k.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})}drawTracker(){let t=this.points;for(let e of(super.drawTracker(),t)){let i=e.graphic;i&&(e.unbindMouseOver&&e.unbindMouseOver(),e.unbindMouseOver=gr(i.element,"mouseover",function(){for(let s of(e.stackIndex>0&&!e.raised&&(e._y=i.y,i.attr({y:e._y-8}),e.raised=!0),t))s!==e&&s.raised&&s.graphic&&(s.graphic.attr({y:s._y}),s.raised=!1)}))}}pointAttribs(t,e){let i=this.options,s=t&&t.color||this.color,o=i.lineColor,l=t&&t.lineWidth,p=t&&t.fillColor||i.fillColor;return e&&(p=i.states[e].fillColor,o=i.states[e].lineColor,l=i.states[e].lineWidth),{fill:p||s,stroke:o||s,"stroke-width":l||i.lineWidth||0}}setClip(){is.prototype.setClip.apply(this,arguments),!1!==this.options.clip&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])}}Et.compose=sr.compose,Et.defaultOptions=os(ss.defaultOptions,{borderRadius:0,pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd3ff"}},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold"}}),pr.compose(Et),fr(Et.prototype,{allowDG:!1,forceCrop:!0,invertible:!1,noSharedTooltip:!0,pointClass:class extends tr{constructor(){super(...arguments),this.ttBelow=!1}isValid(){return er(this.y)||void 0===this.y}hasNewShapeType(){let n=this.options.shape||this.series.options.shape;return this.graphic&&n&&n!==this.graphic.symbolKey}},sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],buildKDTree:cr,init:is.prototype.init}),Z().registerSeriesType("flags",Et),L.d({},{}),L.d({},{}),L.d({},{});let _=B();_.Navigator=_.Navigator||Qt,_.OrdinalAxis=_.OrdinalAxis||Pe,_.RangeSelector=_.RangeSelector||Nt,_.Scrollbar=_.Scrollbar||wi,_.stockChart=_.stockChart||Hi.stockChart,_.StockChart=_.StockChart||_.stockChart,_.extend(_.StockChart,Hi),yo.compose(_.Series,_.Axis,_.Point),Et.compose(_.Renderer),xt.compose(_.Series),_.Navigator.compose(_.Chart,_.Axis,_.Series),_.OrdinalAxis.compose(_.Axis,_.Series,_.Chart),_.RangeSelector.compose(_.Axis,_.Chart),_.Scrollbar.compose(_.Axis),_.StockChart.compose(_.Chart,_.Axis,_.Series,_.SVGRenderer);let yr=B()}}]);